(window.webpackJsonp=window.webpackJsonp||[]).push([[274],{810:function(a,s,t){"use strict";t.r(s);var e=t(14),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[a._v("#")]),a._v(" Git")]),a._v(" "),s("h2",{attrs:{id:"指定-clone-深度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指定-clone-深度"}},[a._v("#")]),a._v(" 指定 clone 深度")]),a._v(" "),s("p",[a._v("设置 "),s("code",[a._v("depth")]),a._v(" 为 1: 只会克隆最近一次提交，并且只 clone 默认的 "),s("code",[a._v("HEAD")]),a._v(" 分支")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--depth")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" url\n")])])]),s("p",[a._v("如果需要其他远程分支，可以手动 "),s("code",[a._v("fetch")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" remote set-branches origin 远程分支名\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" fetch "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--depth")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" origin 远程分支名\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout 远程分支名\n")])])]),s("h2",{attrs:{id:"删除远程项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除远程项目"}},[a._v("#")]),a._v(" 删除远程项目")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--delete")]),a._v(" 远程分支名\n")])])]),s("h2",{attrs:{id:"更新远程仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新远程仓库"}},[a._v("#")]),a._v(" 更新远程仓库")]),a._v(" "),s("p",[a._v("比如远程分支已被删除，但本地还能看到远程分支存在")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" remote update origin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prune")]),a._v("\n")])])]),s("h2",{attrs:{id:"授权"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#授权"}},[a._v("#")]),a._v(" 授权")]),a._v(" "),s("h3",{attrs:{id:"permission-denied-publickey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#permission-denied-publickey"}},[a._v("#")]),a._v(" Permission denied (publickey)")]),a._v(" "),s("p",[a._v("Ubuntu 连接 GitLab 出现权限问题，需要添加公钥")]),a._v(" "),s("ol",[s("li",[a._v("Ubuntu 内生成公钥")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ssh-keygen "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" rsa "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-C")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"邮箱"')]),a._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("按提示一路 Enter，最终会把公钥放在某个地方")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Your public key has been saved in xxx/.ssh/id_rsa.pub\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("将生成的公钥(id_rsa.pub)粘贴到 GitLab → 账户 → SSH Keys")])]),a._v(" "),s("h2",{attrs:{id:"合并多个-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并多个-commit"}},[a._v("#")]),a._v(" 合并多个 commit")]),a._v(" "),s("ul",[s("li",[a._v("当前分支合并")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# rebase 到要合并的开头分支")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" hash值\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 进入编辑模式，修改 commit 信息，把要合并的信息都改成 `squash `")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 保存后退出，会进入 commit message 内，把多余的 message 删除即可")]),a._v("\n")])])]),s("p",[a._v("误操作了可以用 "),s("code",[a._v("git rebase --abort")]),a._v(" 撤销")]),a._v(" "),s("ul",[s("li",[a._v("合并别的分支")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" merge "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--squash")]),a._v(" another-branch\n")])])]),s("h2",{attrs:{id:"拉取远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉取远程分支"}},[a._v("#")]),a._v(" 拉取远程分支")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" locale-name remotes/origin/branch-name\n")])])]),s("h2",{attrs:{id:"还原没有-commit-的文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#还原没有-commit-的文件"}},[a._v("#")]),a._v(" 还原没有 commit 的文件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout -- 文件名\n")])])]),s("h2",{attrs:{id:"删除-tag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除-tag"}},[a._v("#")]),a._v(" 删除 tag")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 本地")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" tag "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" v3.0.2\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除远程分支")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--delete")]),a._v(" v3.0.2\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除远程 tag")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push origin :refs/tags/1.0.4\n")])])]),s("h2",{attrs:{id:"找回删除分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#找回删除分支"}},[a._v("#")]),a._v(" 找回删除分支")]),a._v(" "),s("p",[a._v("查看所有的引用变动的日志")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" reflog\n")])])]),s("p",[a._v("找到最后删除前的变动 id")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout 最后变动的 "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);