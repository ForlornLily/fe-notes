(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{771:function(a,n,r){"use strict";r.r(n);var l=r(14),t=Object(l.a)({},(function(){var a=this,n=a._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"package-lock"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#package-lock"}},[a._v("#")]),a._v(" package-lock")]),a._v(" "),n("h2",{attrs:{id:"npm-shrinkwrap-和-package-lock"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-shrinkwrap-和-package-lock"}},[a._v("#")]),a._v(" npm-shrinkwrap 和 package-lock")]),a._v(" "),n("p",[a._v("推荐使用 package-lock"),n("br"),a._v("\n区别")]),a._v(" "),n("ul",[n("li",[a._v("npm-shrinkwrap 会跟随包发布一起发布；package-lock 不会")]),a._v(" "),n("li",[a._v("lock 是安装时自己生成的，shrinkwrap 需要手动执行")]),a._v(" "),n("li",[a._v("lock 在 npm 5.x 后出现，低版本需要用 shrinkwrap")])]),a._v(" "),n("p",[a._v("参考")]),a._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.npmjs.com/files/shrinkwrap.json",target:"_blank",rel:"noopener noreferrer"}},[a._v("shrinkwrap.json"),n("OutboundLink")],1)])]),a._v(" "),n("h2",{attrs:{id:"npm-ci-和-npm-install"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-ci-和-npm-install"}},[a._v("#")]),a._v(" npm ci 和 npm install")]),a._v(" "),n("p",[a._v("区别")]),a._v(" "),n("ul",[n("li",[a._v("使用 npm ci 必须保证有 "),n("code",[a._v("npm-shrinkwrap")]),a._v(" 或者 "),n("code",[a._v("package-lock")]),a._v(" 存在")]),a._v(" "),n("li",[a._v("如果 lock 文件和 package.json 文件不匹配。npm ci 会报错，而不像 install 一样升级版本")]),a._v(" "),n("li",[a._v("如果已经安装了依赖，npm ci 会先删除 node_modules")]),a._v(" "),n("li",[a._v("npm ci 不会更新 lock 文件")])]),a._v(" "),n("p",[a._v("参考")]),a._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.npmjs.com/cli/ci.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("ci"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);n.default=t.exports}}]);