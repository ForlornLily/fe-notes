(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{465:function(t,a,s){t.exports=s.p+"assets/img/webAudio.3ee9244d.jpg"},687:function(t,a,s){"use strict";s.r(a);var n=s(14),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"html5-编程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html5-编程"}},[t._v("#")]),t._v(" HTML5 编程")]),t._v(" "),a("h2",{attrs:{id:"跨域-跨文档消息传送-cross-document-messaging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨域-跨文档消息传送-cross-document-messaging"}},[t._v("#")]),t._v(" 跨域: 跨文档消息传送(cross-document messaging)")]),t._v(" "),a("h3",{attrs:{id:"postmessage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postmessage"}},[t._v("#")]),t._v(" postMessage")]),t._v(" "),a("p",[t._v("监听 message 事件来捕获")]),t._v(" "),a("h2",{attrs:{id:"媒体元素-audio-video"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#媒体元素-audio-video"}},[t._v("#")]),t._v(" 媒体元素 audio/video")]),t._v(" "),a("p",[t._v("在页面被切换到其他后台进程的时候，自动暂停音乐或视频的播放")]),t._v(" "),a("h3",{attrs:{id:"src-source"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#src-source"}},[t._v("#")]),t._v(" src/<source>")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("video")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx.mp4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("video")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("等价于")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("video")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx.mp4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("video/mp4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("video")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"webaudio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webaudio"}},[t._v("#")]),t._v(" webAudio")]),t._v(" "),a("p",[t._v("参考慕课网课程："),a("a",{attrs:{href:"https://www.imooc.com/learn/299",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTML5 音乐可视化"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"audiocontext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#audiocontext"}},[t._v("#")]),t._v(" AudioContext")]),t._v(" "),a("p",[t._v("audio 的上下文对象。类似 Canvas 的"),a("code",[t._v("getContext")]),t._v("获取的对象")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//创建实例")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ac "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AudioContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:s(465),alt:"常用API关系图"}})]),t._v(" "),a("h4",{attrs:{id:"常用属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用属性"}},[t._v("#")]),t._v(" 常用属性")]),t._v(" "),a("ul",[a("li",[t._v("destination: "),a("code",[t._v("ac.destination")]),t._v("，值是"),a("code",[t._v("AudioDestinationNode")]),t._v("对象，相当于音频的硬件。"),a("br"),t._v("\n所有的"),a("code",[t._v("AudioNode")]),t._v("都直接/间接连接到这个对象")]),t._v(" "),a("li",[t._v("currentTime: ac 从创建到当前持续的时间，单位是秒")])]),t._v(" "),a("h4",{attrs:{id:"常用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用方法"}},[t._v("#")]),t._v(" 常用方法")]),t._v(" "),a("ul",[a("li",[t._v("decodeAudioData: 异步解码音频文件中的 "),a("code",[t._v("ArrayBuffer")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("ac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decodeAudioData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("buffer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//do sth.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[t._v("createBufferSource: 用于创建一个"),a("code",[t._v("AudioBufferSourceNode")]),t._v("接口"),a("br"),t._v("\n该接口可以通过"),a("code",[t._v("AudioBuffer")]),t._v(" 对象来播放音频数据")]),t._v(" "),a("li",[t._v("createBuffer: "),a("code",[t._v("AudioBuffer")]),t._v("对象可以通过"),a("code",[t._v("createBuffer")]),t._v("来创建。或者通过"),a("code",[t._v("decodeAudioData")]),t._v("成功解码音轨后获取"),a("br"),t._v("\ncreateBuffer() 方法用于新建一个空白的 AudioBuffer 对象，以便用于填充数据，通过 AudioBufferSourceNode 播放")]),t._v(" "),a("li",[t._v("createAnalyser: 创建一个"),a("code",[t._v("AnalyserNode")]),t._v("。用来获取音频时间和频率，实现可视化")]),t._v(" "),a("li",[t._v("createGain: 创建一个"),a("code",[t._v("GainNode")]),t._v("，控制音量")])]),t._v(" "),a("h3",{attrs:{id:"audiobuffersourcenode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#audiobuffersourcenode"}},[t._v("#")]),t._v(" AudioBufferSourceNode")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ac "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AudioContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bufferSource "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createBufferSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("code",[t._v("AudioBufferSourceNode")]),t._v("表示内存中的一段音频资源，音频数据存储在"),a("code",[t._v("AudioBuffer")]),t._v("中。"),a("br"),t._v("\n常见属性：")]),t._v(" "),a("ul",[a("li",[t._v("buffer: "),a("code",[t._v("bufferSource.buffer")]),t._v("。值就是"),a("code",[t._v("AudioBuffer")]),t._v(" "),a("ul",[a("li",[t._v("duration: "),a("code",[t._v("bufferSource.buffer.duration")]),t._v(": 音频的时长")])])]),t._v(" "),a("li",[t._v("loop: 是否循环，默认 false")]),t._v(" "),a("li",[t._v("onended: 音频播放完毕后触发的事件\n常用方法：")]),t._v(" "),a("li",[t._v("start(when, offset, duration): 播放\n"),a("ul",[a("li",[t._v("when: 什么时候开始播放。默认是 ac.currentTime，也就是立刻")]),t._v(" "),a("li",[t._v("offset: 第几秒开始。默认是 0，也就是开头")]),t._v(" "),a("li",[t._v("duration: 播放几秒。默认是 buffer.duration-offset, 也就是播放到歌曲结束")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//10s后开始播放")]),t._v("\nbufferSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[t._v("stop(when): 结束\n"),a("ul",[a("li",[t._v("when: 默认是 ac.currentTime，也就是立刻")])])])]),t._v(" "),a("h3",{attrs:{id:"gainnode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gainnode"}},[t._v("#")]),t._v(" GainNode")]),t._v(" "),a("p",[t._v("控制音量")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gainNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createGain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("常见属性：")]),t._v(" "),a("ul",[a("li",[t._v("gain: "),a("code",[t._v("ac.createGain().gain")]),t._v(" 改变 gain 的"),a("code",[t._v("value")]),t._v("属性可以控制音量大小"),a("br"),t._v("\nvalue 值在 0~1 之间")])]),t._v(" "),a("p",[t._v("播放音频并控制音量关健代码")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" audioContext "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AudioContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gainNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" audioContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createGain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngainNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("audioContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("destination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//创建ArrayBuffer")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ac "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" audioContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decodeAudioData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("buffer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bufferSource "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createBufferSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  bufferSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buffer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" buffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//音频资源赋值")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bufferSource.connect(ac.destination);//连接到AudioDestinationNode，！此处直接连接无效")]),t._v("\n  bufferSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gainNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//通过连接音量，间接连接到destination")]),t._v("\n  bufferSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//开始播放")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//调整音量")]),t._v("\ngainNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"analysernode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#analysernode"}},[t._v("#")]),t._v(" AnalyserNode")]),t._v(" "),a("p",[t._v("音频分析对象。实现可视化的关健")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ac "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AudioContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" analyserNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createAnalyser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("常用属性")]),t._v(" "),a("ul",[a("li",[t._v("fftSize: 设置 FFT（FFT 详见"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN"),a("OutboundLink")],1),t._v("），大致上就是获取频域。"),a("br"),t._v("\n值是 2 的 N 次方（范围在 32~2048 之间）")]),t._v(" "),a("li",[t._v("frequencyBinCount: 值是 fftSize 的一半，得到频域的个数")])]),t._v(" "),a("p",[t._v("常用方法")]),t._v(" "),a("ul",[a("li",[t._v("getByteFrequencyData(Uint8Array)：复制当前频域的值到"),a("code",[t._v("Uint8Array")]),t._v("数组中")])]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/javascript/061_animation.html"}},[t._v("AnalyserNode 配合 canvas 食用")])],1),t._v(" "),a("h2",{attrs:{id:"textencoder"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#textencoder"}},[t._v("#")]),t._v(" TextEncoder")]),t._v(" "),a("h2",{attrs:{id:"filereader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#filereader"}},[t._v("#")]),t._v(" FileReader")]),t._v(" "),a("p",[t._v("用来读取文件，写法类似 ajax")]),t._v(" "),a("h2",{attrs:{id:"blob"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blob"}},[t._v("#")]),t._v(" blob")]),t._v(" "),a("p",[t._v("binary large object：")])])}),[],!1,null,null,null);a.default=e.exports}}]);