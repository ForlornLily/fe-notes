(window.webpackJsonp=window.webpackJsonp||[]).push([[208],{726:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"系统管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统管理"}},[s._v("#")]),s._v(" 系统管理")]),s._v(" "),t("p",[s._v("分为")]),s._v(" "),t("ul",[t("li",[s._v("程序")]),s._v(" "),t("li",[s._v("磁盘")]),s._v(" "),t("li",[s._v("文件")])]),s._v(" "),t("h2",{attrs:{id:"程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#程序"}},[s._v("#")]),s._v(" 程序")]),s._v(" "),t("p",[s._v("当程序运行在系统上时，称之为进程（process），通过 "),t("code",[s._v("ps")]),s._v(" 命令了解程序信息")]),s._v(" "),t("h3",{attrs:{id:"ps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ps"}},[s._v("#")]),s._v(" ps")]),s._v(" "),t("p",[s._v("只展示当前控制台下属于当前用户的进程")]),s._v(" "),t("ul",[t("li",[s._v("PID（process ID）：进程 ID")]),s._v(" "),t("li",[s._v("TTY：运行在哪个终端")]),s._v(" "),t("li",[s._v("TIME：进程已用 CPU 的时间")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前只运行了 bash shell和一个 ps 命令本身")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps")]),s._v("\n  PID TTY          TIME CMD\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27342")]),s._v(" pts/0    00:00:00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27519")]),s._v(" pts/0    00:00:00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])])]),t("p",[t("code",[s._v("ps")]),s._v(" 由于历史原因，有两个版本，并且参数各不相同。后来合为一个，会导致命令比较繁多\nGNU ps 命令支持 3 种不同类型的命令行参数")]),s._v(" "),t("ul",[t("li",[s._v("Unix 风格："),t("code",[s._v("-选项")]),s._v("，例："),t("code",[s._v("ps -ef")])]),s._v(" "),t("li",[s._v("BSD 风格："),t("code",[s._v("选项")]),s._v("，例："),t("code",[s._v("ps ef")])]),s._v(" "),t("li",[s._v("GNU 风格的长参数："),t("code",[s._v("--选项")]),s._v("，例："),t("code",[s._v("ps --forest")])])]),s._v(" "),t("h3",{attrs:{id:"unix-风格进程信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unix-风格进程信息"}},[s._v("#")]),s._v(" Unix 风格进程信息")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("ps -l")])])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -l")]),s._v("\nF S   "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27615")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27613")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28864")]),s._v(" do_wai pts/1    00:00:00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" R     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27736")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27615")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("38314")]),s._v(" -      pts/1    00:00:00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])])]),t("ul",[t("li",[s._v("UID：启动这些进程的用户。")]),s._v(" "),t("li",[s._v("PID：进程的进程 ID。")]),s._v(" "),t("li",[s._v("PPID：父进程的进程号（如果该进程是由另一个进程启动的）。")]),s._v(" "),t("li",[s._v("C：进程生命周期中的 CPU 利用率。")]),s._v(" "),t("li",[s._v("STIME：进程启动时的系统时间。")]),s._v(" "),t("li",[s._v("TTY：进程启动时的终端设备。")]),s._v(" "),t("li",[s._v("TIME：运行进程需要的累计 CPU 时间。")]),s._v(" "),t("li",[s._v("CMD：启动的程序名称。")]),s._v(" "),t("li",[s._v("F：内核分配给进程的系统标记。")]),s._v(" "),t("li",[s._v("S：进程的状态\n（O 代表正在运行；S 代表在休眠；R 代表可运行，正等待运行；Z 代表僵化，僵化状态是指进程完成了，但父进程没有响应；T 代表停止）。")]),s._v(" "),t("li",[s._v("PRI：进程的优先级（越大的数字代表越低的优先级）。")]),s._v(" "),t("li",[s._v("NI：谦让度值用来参与决定优先级。")]),s._v(" "),t("li",[s._v("ADDR：进程的内存地址。")]),s._v(" "),t("li",[s._v("SZ：假如进程被换出，所需交换空间的大致大小。")]),s._v(" "),t("li",[s._v("WCHAN：进程休眠的内核函数的地")])]),s._v(" "),t("h3",{attrs:{id:"bsd-风格进程信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bsd-风格进程信息"}},[s._v("#")]),s._v(" BSD 风格进程信息")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("ps l")])])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps l")]),s._v("\nF   "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v(" PRI  NI    VSZ   RSS WCHAN  STAT TTY        TIME COMMAND\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1044")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110116")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1612")]),s._v(" wait_w Ss+  tty1       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /sbin/agett\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1046")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110116")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1648")]),s._v(" wait_w Ss+  ttyS0      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /sbin/agett\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27615")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27613")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("115456")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3572")]),s._v(" wait_w Ss+  pts/1      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27791")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27785")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("115456")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3536")]),s._v(" do_wai Ss   pts/0      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27813")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27791")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("153256")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3816")]),s._v(" -      R+   pts/0      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" l\n")])])]),t("p",[s._v("大部分的输出列跟使用 Unix 风格参数时的输出是一样，一小部分不同：")]),s._v(" "),t("ul",[t("li",[s._v("VSZ：进程在内存中的大小，以千字节（KB）为单位。")]),s._v(" "),t("li",[s._v("RSS：进程在未换出时占用的物理内存。")]),s._v(" "),t("li",[s._v("STAT：代表当前进程状态的双字符状态"),t("br"),s._v("\nSTAT 可以展示更加详细的进程状态码，以上述的"),t("code",[s._v("R+")]),s._v(" 为例 - 第一个字母代表 Unix 风格进程的 "),t("code",[s._v("S")]),s._v("，表明是休眠、运行还是停止等（R 代表可运行）"),t("br"),s._v("\n-第二个参数进一步说明进程的状态-<：该进程运行在高优先级上。-N：该进程运行在低优先级上。-L：该进程有页面锁定在内存中。-s：该进程是控制进程。-l：该进程是多线程的。-+：该进程运行在前台")])]),s._v(" "),t("h3",{attrs:{id:"gnu-长参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gnu-长参数"}},[s._v("#")]),s._v(" GNU 长参数")]),s._v(" "),t("p",[s._v("一般是一个完整的单词")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ6we3xdsu4f2apd174to3Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps --help")]),s._v("\n\nUsage:\n "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n Try "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ps --help <simple|list|output|threads|misc|all>'")]),s._v("\n  or "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ps --help <s|l|o|t|m|a>'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" additional "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" text.\n\nFor "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" details see ps"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n")])])]),t("h2",{attrs:{id:"实时监测"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实时监测"}},[s._v("#")]),s._v(" 实时监测")]),s._v(" "),t("p",[s._v("ps 只能显示当前时间点的信息，如果想要观察频繁换进换出内存的程序趋势，需要借助 "),t("code",[s._v("top")])]),s._v(" "),t("h3",{attrs:{id:"top"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#top"}},[s._v("#")]),s._v(" top")]),s._v(" "),t("p",[s._v("top 会每个 2 秒左右刷新内容")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# top")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":40:57 up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(" days,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":32,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" users,  load average: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\nTasks:  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("79")]),s._v(" total,   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" running,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" sleeping,   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped,   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n%Cpu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" us,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" sy,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99.3")]),s._v(" id,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\nKiB Mem "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("491536")]),s._v(" total,    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22888")]),s._v(" free,   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("305880")]),s._v(" used,   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("162768")]),s._v(" buff/cache\nKiB Swap:        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" total,        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" free,        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used.   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("175492")]),s._v(" avail Mem\n\n  PID "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1103")]),s._v(" root      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("549032")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("215080")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3412")]),s._v(" S  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("43.8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("138")]),s._v(":26.57 fail2ban-se+\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("43488")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4108")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2856")]),s._v(" S  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":02.96 systemd\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.09 kthreadd\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省略后续内容")]),s._v("\n")])])]),t("ul",[t("li",[t("p",[s._v("第一行表示当前时间，系统的运行时间，登录用户以及系统的平均负载"),t("br"),s._v("\n平均负载"),t("code",[s._v("load average: 0.00, 0.01, 0.00")]),s._v("：值的顺序分别是最近 1 分钟的、最近 5 分钟的和最近 15 分钟的平均负载。"),t("br"),s._v("\n值越大说明系统的负载越高（通常，如果系统的负载值超过了 2，就说明系统比较繁忙了）")])]),s._v(" "),t("li",[t("p",[s._v("第二行显示了进程概要信息—— top 命令的输出中将进程叫作任务（task）：有多少进程处在运行、休眠、停止或是僵化状态")])]),s._v(" "),t("li",[t("p",[s._v("第三行根据进程的属主（用户还是系统）和进程的状态（运行、空闲还是等待）将 CPU 利用率分成几类输出")])]),s._v(" "),t("li",[t("p",[s._v("第四、五行说明了系统内存的状态。")]),s._v(" "),t("ul",[t("li",[s._v("第四行说的是系统的物理内存：总共有多少内存，当前用了多少，还有多少空闲。")]),s._v(" "),t("li",[s._v("第五行说的是同样的信息，不过是针对系统交换空间（如果分配了的话）的状态而言的")])])]),s._v(" "),t("li",[t("p",[s._v("后面的显示了进程的的详细列表，和 ps 命令含义类似")]),s._v(" "),t("ul",[t("li",[s._v("PID：进程的 ID。")]),s._v(" "),t("li",[s._v("USER：进程属主的名字。")]),s._v(" "),t("li",[s._v("PR：进程的优先级。")]),s._v(" "),t("li",[s._v("NI：进程的谦让度值。")]),s._v(" "),t("li",[s._v("VIRT：进程占用的虚拟内存总量。")]),s._v(" "),t("li",[s._v("RES：进程占用的物理内存总量。")]),s._v(" "),t("li",[s._v("SHR：进程和其他进程共享的内存总量。")]),s._v(" "),t("li",[s._v("S：进程的状态\n（D 代表可中断的休眠状态，R 代表在运行状态，S 代表休眠状态，T 代表跟踪状态或停止状态，Z 代表僵化状态）。")]),s._v(" "),t("li",[s._v("%CPU：进程使用的 CPU 时间比例。")]),s._v(" "),t("li",[s._v("%MEM：进程使用的内存占可用内存的比例。")]),s._v(" "),t("li",[s._v("TIME+：自进程启动到目前为止的 CPU 时间总量。")]),s._v(" "),t("li",[s._v("COMMAND：进程所对应的命令行名称，也就是启动的程序名")])])])]),s._v(" "),t("h2",{attrs:{id:"结束进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结束进程"}},[s._v("#")]),s._v(" 结束进程")]),s._v(" "),t("p",[s._v("进程之间通过信号通信"),t("br"),s._v("\n信号类型：")]),s._v(" "),t("ul",[t("li",[s._v("1 HUP 挂起")]),s._v(" "),t("li",[s._v("2 INT 中断")]),s._v(" "),t("li",[s._v("3 QUIT 结束运行")]),s._v(" "),t("li",[s._v("9 KILL 无条件终止")]),s._v(" "),t("li",[s._v("11 SEGV 段错误")]),s._v(" "),t("li",[s._v("15 TERM 尽可能终止")]),s._v(" "),t("li",[s._v("17 STOP 无条件停止运行，但不终止")]),s._v(" "),t("li",[s._v("18 TSTP 停止或暂停，但继续在后台运行")]),s._v(" "),t("li",[s._v("19 CONT 在 STOP 或 TSTP 之后恢复执行")])]),s._v(" "),t("h3",{attrs:{id:"kill"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kill"}},[s._v("#")]),s._v(" kill")]),s._v(" "),t("p",[s._v("需要是 "),t("code",[s._v("root")]),s._v(" 或者进程所属用户才能执行命令")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("kill PID")]),s._v("：实际上是给 PID 发送一个 TERM 信号。\nTERM 信号表示可以的话禁止，会存在有些进程忽略这个信号，不终止的情况\n用 "),t("code",[s._v("-s")]),s._v(" 选项强行终止\n"),t("code",[s._v("kill")]),s._v(" 执行之后不会有输出，如果要看进程是否终止，可以用 "),t("code",[s._v("top")]),s._v(" 或者 "),t("code",[s._v("ps")]),s._v(" 命令")]),s._v(" "),t("li",[t("code",[s._v("killall 进程名")]),s._v("：可以用通配符，比如 "),t("code",[s._v("killall http*")]),s._v("，会结束所有以 http 开头的进程"),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("root 用户终止的时候慎用通配符，可能会杀掉系统关键进程")])])])]),s._v(" "),t("h2",{attrs:{id:"磁盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#磁盘"}},[s._v("#")]),s._v(" 磁盘")]),s._v(" "),t("h3",{attrs:{id:"挂载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#挂载"}},[s._v("#")]),s._v(" 挂载")]),s._v(" "),t("p",[s._v("Linux 文件系统将所有的磁盘都并入一个虚拟目录下。在使用新的存储媒体之前，需要把它放到虚拟目录下。这项工作称为挂载（mounting）")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("mount")]),s._v("命令会输出当前系统上挂载的设备列表。简单理解就是显示可插拔的 U 盘")]),s._v(" "),t("li",[t("code",[s._v("unmount")]),s._v("，即卸载。U 盘拔出之前需要先安全弹出，没弹出之前直接拔出可能会损坏")])]),s._v(" "),t("h3",{attrs:{id:"df"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#df"}},[s._v("#")]),s._v(" df")]),s._v(" "),t("p",[s._v("查看磁盘剩余空间")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# df")]),s._v("\nFilesystem     1K-blocks    Used Available Use% Mounted on\ndevtmpfs          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("233292")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("233292")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("245768")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("245768")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev/shm\n")])])]),t("p",[s._v("各自意思")]),s._v(" "),t("ul",[t("li",[s._v("设备的设备文件位置；")]),s._v(" "),t("li",[s._v("能容纳多少个 1024 字节大小的块；")]),s._v(" "),t("li",[s._v("已用了多少个 1024 字节大小的块；")]),s._v(" "),t("li",[s._v("还有多少个 1024 字节大小的块可用；")]),s._v(" "),t("li",[s._v("已用空间所占的比例；")]),s._v(" "),t("li",[s._v("设备挂载到了哪个挂载点上")])]),s._v(" "),t("h3",{attrs:{id:"du"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#du"}},[s._v("#")]),s._v(" du")]),s._v(" "),t("p",[s._v("查看特定目录下的磁盘使用情况，不传参默认是当前目录")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-c")]),s._v("：显示所有已列出文件总的大小。\n比如 node/bin 下的")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# du -c node/bin")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44544")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44544")]),s._v("   total\n\n")])])]),t("ul",[t("li",[t("code",[s._v("-h")]),s._v("：和 "),t("code",[s._v("-c")]),s._v(" 功能一致，不显示 "),t("code",[s._v("total")]),s._v("，另外大小做了转换，即用 K 替代千字节，用 M 替代兆字节，用 G 替代吉字节。")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ6we3xdsu4f2apd174to3Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# du -h node/bin")]),s._v("\n44M     node/bin\n")])])]),t("ul",[t("li",[t("code",[s._v("-s")]),s._v("：显示每个输出参数的总计。")])]),s._v(" "),t("h2",{attrs:{id:"操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#操作"}},[s._v("#")]),s._v(" 操作")]),s._v(" "),t("h3",{attrs:{id:"sort"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sort"}},[s._v("#")]),s._v(" sort")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("sort 文件名")]),s._v("：对文件内容进行字符串排序")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat hello.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sort hello.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("\n")])])]),t("ul",[t("li",[t("code",[s._v("-n")]),s._v("：进行数字排序")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ6we3xdsu4f2apd174to3Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sort -n hello.txt")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1111")]),s._v("\n")])])]),t("h3",{attrs:{id:"grep"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grep"}},[s._v("#")]),s._v(" grep")]),s._v(" "),t("p",[s._v("根据词搜索所在行，可以用正则")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep 5 hello.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("\n")])])]),t("ul",[t("li",[t("code",[s._v("-v")]),s._v("：显示不匹配的内容")]),s._v(" "),t("li",[t("code",[s._v("-n")]),s._v("：显示匹配内容所在的行")]),s._v(" "),t("li",[t("code",[s._v("-e")]),s._v("：可以匹配多个值")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 匹配 1 或者 2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep hello.txt -e 1 -e 2 -n")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":1111\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":222\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":10\n")])])]),t("h2",{attrs:{id:"压缩"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#压缩"}},[s._v("#")]),s._v(" 压缩")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("工具")]),s._v(" "),t("th",[s._v("文件扩展名")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("bzip2")]),s._v(" "),t("td",[s._v(".bz2")]),s._v(" "),t("td",[s._v("采用 Burrows-Wheeler 块排序文本压缩算法和霍夫曼编码")])]),s._v(" "),t("tr",[t("td",[s._v("gzip")]),s._v(" "),t("td",[s._v(".gz")]),s._v(" "),t("td",[s._v("GNU 压缩工具，用 Lempel-Ziv 编码")])]),s._v(" "),t("tr",[t("td",[s._v("zip")]),s._v(" "),t("td",[s._v(".zip")]),s._v(" "),t("td",[s._v("Windows 上 PKZIP 工具的 Unix 实现")])])])]),s._v(" "),t("h3",{attrs:{id:"gzip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gzip"}},[s._v("#")]),s._v(" gzip")]),s._v(" "),t("p",[s._v("gzip 是一个软件，包含了三个工具")]),s._v(" "),t("ul",[t("li",[s._v("gzip 压缩")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xxx ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gzip hello.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hello.txt 变为  hello.txt.gz")]),s._v("\n")])])]),t("ul",[t("li",[s._v("gunzip 解压")]),s._v(" "),t("li",[s._v("zcat 查看压缩包内的内容")])]),s._v(" "),t("h2",{attrs:{id:"归档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#归档"}},[s._v("#")]),s._v(" 归档")]),s._v(" "),t("h3",{attrs:{id:"tar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tar"}},[s._v("#")]),s._v(" tar")]),s._v(" "),t("p",[s._v("把内容归档为 "),t("code",[s._v("*.tar")]),s._v("后缀的文件"),t("br"),s._v(" "),t("code",[s._v(".tgz")]),s._v(" 后缀表示用 gzip 压缩过后的 tar 文件"),t("br"),s._v("\ntar 的功能比较多 "),t("code",[s._v("tar function [options] object1 object2")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("function")]),s._v(" "),t("th",[s._v("长参数")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("-c")])]),s._v(" "),t("td",[s._v("--create")]),s._v(" "),t("td",[s._v("创建一个新的 tar 归档文件")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-A")])]),s._v(" "),t("td",[s._v("--concatenate")]),s._v(" "),t("td",[s._v("将一个已有 tar 归档文件追加到另一个已有 tar 归档文件")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-d")])]),s._v(" "),t("td",[s._v("--diff")]),s._v(" "),t("td",[s._v("检查归档文件和文件系统的不同之处")])]),s._v(" "),t("tr",[t("td"),s._v(" "),t("td",[s._v("--delete")]),s._v(" "),t("td",[s._v("从已有 tar 归档文件中删除")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-r")])]),s._v(" "),t("td",[s._v("--append")]),s._v(" "),t("td",[s._v("追加文件到已有 tar 归档文件末尾")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-t")])]),s._v(" "),t("td",[s._v("--list")]),s._v(" "),t("td",[s._v("列出已有 tar 归档文件的内容")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-u")])]),s._v(" "),t("td",[s._v("--update")]),s._v(" "),t("td",[s._v("将比 tar 归档文件中已有的同名文件新的文件追加到该 tar 归档文件中")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("-x")])]),s._v(" "),t("td",[s._v("--extract")]),s._v(" "),t("td",[s._v("从已有 tar 归档文件中提取文件")])])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("options")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("-C")]),s._v(" "),t("td",[s._v("dir 切换到指定目录")])]),s._v(" "),t("tr",[t("td",[s._v("-f")]),s._v(" "),t("td",[s._v("file 输出结果到文件或设备 file")])]),s._v(" "),t("tr",[t("td",[s._v("-j")]),s._v(" "),t("td",[s._v("将输出重定向给 bzip2 命令来压缩内容")])]),s._v(" "),t("tr",[t("td",[s._v("-p")]),s._v(" "),t("td",[s._v("保留所有文件权限")])]),s._v(" "),t("tr",[t("td",[s._v("-v")]),s._v(" "),t("td",[s._v("在处理文件时显示文件")])]),s._v(" "),t("tr",[t("td",[s._v("-z")]),s._v(" "),t("td",[s._v("将输出重定向给 gzip 命令来压缩内容")])])])]),s._v(" "),t("p",[t("code",[s._v("function")]),s._v(" 和 "),t("code",[s._v("options")]),s._v(" 可以连用，比如"),t("code",[s._v("tar -zxvf filename.tgz")])])])}),[],!1,null,null,null);t.default=e.exports}}]);