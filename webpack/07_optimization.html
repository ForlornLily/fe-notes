<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>优化：optimization | fe-notes</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/fe-notes/favicon.ico">
    <meta name="description" content="个人前端笔记">
    
    <link rel="preload" href="/fe-notes/assets/css/0.styles.9dfc6ff8.css" as="style"><link rel="preload" href="/fe-notes/assets/js/app.3a168dfd.js" as="script"><link rel="preload" href="/fe-notes/assets/js/2.c34af4f1.js" as="script"><link rel="preload" href="/fe-notes/assets/js/1.4e3eb9de.js" as="script"><link rel="preload" href="/fe-notes/assets/js/30.790cbfec.js" as="script"><link rel="prefetch" href="/fe-notes/assets/js/10.d7790d7b.js"><link rel="prefetch" href="/fe-notes/assets/js/100.1d955b8c.js"><link rel="prefetch" href="/fe-notes/assets/js/101.9d24706c.js"><link rel="prefetch" href="/fe-notes/assets/js/102.2cddc8f3.js"><link rel="prefetch" href="/fe-notes/assets/js/103.31fd48a8.js"><link rel="prefetch" href="/fe-notes/assets/js/104.710bf344.js"><link rel="prefetch" href="/fe-notes/assets/js/105.5969f92a.js"><link rel="prefetch" href="/fe-notes/assets/js/106.5fe4dac3.js"><link rel="prefetch" href="/fe-notes/assets/js/107.cade6010.js"><link rel="prefetch" href="/fe-notes/assets/js/108.4906eb25.js"><link rel="prefetch" href="/fe-notes/assets/js/109.a0b391be.js"><link rel="prefetch" href="/fe-notes/assets/js/11.43eb9996.js"><link rel="prefetch" href="/fe-notes/assets/js/110.8c843cf7.js"><link rel="prefetch" href="/fe-notes/assets/js/111.81af13b5.js"><link rel="prefetch" href="/fe-notes/assets/js/112.eb75052c.js"><link rel="prefetch" href="/fe-notes/assets/js/113.d0aecf94.js"><link rel="prefetch" href="/fe-notes/assets/js/114.dc75fd2f.js"><link rel="prefetch" href="/fe-notes/assets/js/115.36915f02.js"><link rel="prefetch" href="/fe-notes/assets/js/116.cbc26f91.js"><link rel="prefetch" href="/fe-notes/assets/js/117.8e77424c.js"><link rel="prefetch" href="/fe-notes/assets/js/118.b167f107.js"><link rel="prefetch" href="/fe-notes/assets/js/119.0a10acf9.js"><link rel="prefetch" href="/fe-notes/assets/js/12.0ec02ddd.js"><link rel="prefetch" href="/fe-notes/assets/js/120.eb0aab57.js"><link rel="prefetch" href="/fe-notes/assets/js/121.3c95a197.js"><link rel="prefetch" href="/fe-notes/assets/js/122.32a6f602.js"><link rel="prefetch" href="/fe-notes/assets/js/123.a2b46063.js"><link rel="prefetch" href="/fe-notes/assets/js/124.099e5955.js"><link rel="prefetch" href="/fe-notes/assets/js/125.22cc3d5c.js"><link rel="prefetch" href="/fe-notes/assets/js/126.e3594885.js"><link rel="prefetch" href="/fe-notes/assets/js/127.c6f10455.js"><link rel="prefetch" href="/fe-notes/assets/js/128.ce24aecc.js"><link rel="prefetch" href="/fe-notes/assets/js/129.fc3e5554.js"><link rel="prefetch" href="/fe-notes/assets/js/13.78152d0b.js"><link rel="prefetch" href="/fe-notes/assets/js/130.c5c3742c.js"><link rel="prefetch" href="/fe-notes/assets/js/131.7a360af2.js"><link rel="prefetch" href="/fe-notes/assets/js/132.9d4fe360.js"><link rel="prefetch" href="/fe-notes/assets/js/133.c463096e.js"><link rel="prefetch" href="/fe-notes/assets/js/134.e2b52323.js"><link rel="prefetch" href="/fe-notes/assets/js/135.bd6d20a6.js"><link rel="prefetch" href="/fe-notes/assets/js/136.872158e5.js"><link rel="prefetch" href="/fe-notes/assets/js/137.5b3a875b.js"><link rel="prefetch" href="/fe-notes/assets/js/138.7685ef53.js"><link rel="prefetch" href="/fe-notes/assets/js/139.c5bb726d.js"><link rel="prefetch" href="/fe-notes/assets/js/14.6a9ef67a.js"><link rel="prefetch" href="/fe-notes/assets/js/140.9dec21eb.js"><link rel="prefetch" href="/fe-notes/assets/js/141.f337e59f.js"><link rel="prefetch" href="/fe-notes/assets/js/142.2c46c119.js"><link rel="prefetch" href="/fe-notes/assets/js/143.fa39f9c3.js"><link rel="prefetch" href="/fe-notes/assets/js/144.1a3a6ecc.js"><link rel="prefetch" href="/fe-notes/assets/js/145.4bb9d8ab.js"><link rel="prefetch" href="/fe-notes/assets/js/146.feadf802.js"><link rel="prefetch" href="/fe-notes/assets/js/147.07092725.js"><link rel="prefetch" href="/fe-notes/assets/js/148.23197f81.js"><link rel="prefetch" href="/fe-notes/assets/js/149.f4ac5c5c.js"><link rel="prefetch" href="/fe-notes/assets/js/15.96c9bf57.js"><link rel="prefetch" href="/fe-notes/assets/js/150.06a0409e.js"><link rel="prefetch" href="/fe-notes/assets/js/151.9879c192.js"><link rel="prefetch" href="/fe-notes/assets/js/152.c0ab61ec.js"><link rel="prefetch" href="/fe-notes/assets/js/153.621611fb.js"><link rel="prefetch" href="/fe-notes/assets/js/154.7f7453d5.js"><link rel="prefetch" href="/fe-notes/assets/js/155.56e356d3.js"><link rel="prefetch" href="/fe-notes/assets/js/156.0d733aa0.js"><link rel="prefetch" href="/fe-notes/assets/js/157.d241e320.js"><link rel="prefetch" href="/fe-notes/assets/js/158.844d5b84.js"><link rel="prefetch" href="/fe-notes/assets/js/159.61ba14f0.js"><link rel="prefetch" href="/fe-notes/assets/js/16.a80ecebb.js"><link rel="prefetch" href="/fe-notes/assets/js/160.f986bb29.js"><link rel="prefetch" href="/fe-notes/assets/js/161.c4315e4c.js"><link rel="prefetch" href="/fe-notes/assets/js/162.e69545e8.js"><link rel="prefetch" href="/fe-notes/assets/js/163.7cf2fcf0.js"><link rel="prefetch" href="/fe-notes/assets/js/164.77a48e63.js"><link rel="prefetch" href="/fe-notes/assets/js/165.a0327df4.js"><link rel="prefetch" href="/fe-notes/assets/js/166.2e16f205.js"><link rel="prefetch" href="/fe-notes/assets/js/167.f1a6a09c.js"><link rel="prefetch" href="/fe-notes/assets/js/168.cc9b8512.js"><link rel="prefetch" href="/fe-notes/assets/js/169.86e0fc4a.js"><link rel="prefetch" href="/fe-notes/assets/js/17.7102de0b.js"><link rel="prefetch" href="/fe-notes/assets/js/170.4b2c626c.js"><link rel="prefetch" href="/fe-notes/assets/js/171.f26c3435.js"><link rel="prefetch" href="/fe-notes/assets/js/172.8376be78.js"><link rel="prefetch" href="/fe-notes/assets/js/173.1e31f20a.js"><link rel="prefetch" href="/fe-notes/assets/js/174.9281dfa6.js"><link rel="prefetch" href="/fe-notes/assets/js/175.a84992e1.js"><link rel="prefetch" href="/fe-notes/assets/js/176.7bba3bf4.js"><link rel="prefetch" href="/fe-notes/assets/js/177.46fddad0.js"><link rel="prefetch" href="/fe-notes/assets/js/178.ed7ceb77.js"><link rel="prefetch" href="/fe-notes/assets/js/179.3d3d643e.js"><link rel="prefetch" href="/fe-notes/assets/js/18.5d340b88.js"><link rel="prefetch" href="/fe-notes/assets/js/180.1696ffc1.js"><link rel="prefetch" href="/fe-notes/assets/js/181.0dfd8494.js"><link rel="prefetch" href="/fe-notes/assets/js/182.0a3093e6.js"><link rel="prefetch" href="/fe-notes/assets/js/183.942c5c6e.js"><link rel="prefetch" href="/fe-notes/assets/js/184.29420180.js"><link rel="prefetch" href="/fe-notes/assets/js/185.49767fd0.js"><link rel="prefetch" href="/fe-notes/assets/js/186.aa8b2ae5.js"><link rel="prefetch" href="/fe-notes/assets/js/187.a0eb883b.js"><link rel="prefetch" href="/fe-notes/assets/js/188.8cb11493.js"><link rel="prefetch" href="/fe-notes/assets/js/189.d36d2136.js"><link rel="prefetch" href="/fe-notes/assets/js/19.d89d2c3c.js"><link rel="prefetch" href="/fe-notes/assets/js/190.a68f68f2.js"><link rel="prefetch" href="/fe-notes/assets/js/191.0c7f2386.js"><link rel="prefetch" href="/fe-notes/assets/js/192.cefa25dc.js"><link rel="prefetch" href="/fe-notes/assets/js/193.9606090a.js"><link rel="prefetch" href="/fe-notes/assets/js/194.e54a0766.js"><link rel="prefetch" href="/fe-notes/assets/js/195.e7bb65d2.js"><link rel="prefetch" href="/fe-notes/assets/js/196.78ff12d4.js"><link rel="prefetch" href="/fe-notes/assets/js/197.6fc5eaa5.js"><link rel="prefetch" href="/fe-notes/assets/js/198.79a003b7.js"><link rel="prefetch" href="/fe-notes/assets/js/199.dc2426ef.js"><link rel="prefetch" href="/fe-notes/assets/js/20.f4c8ca34.js"><link rel="prefetch" href="/fe-notes/assets/js/200.b2c97b9f.js"><link rel="prefetch" href="/fe-notes/assets/js/201.ba237c96.js"><link rel="prefetch" href="/fe-notes/assets/js/202.eff59685.js"><link rel="prefetch" href="/fe-notes/assets/js/203.2bf94c82.js"><link rel="prefetch" href="/fe-notes/assets/js/204.9a6b12e1.js"><link rel="prefetch" href="/fe-notes/assets/js/205.98bdf8a6.js"><link rel="prefetch" href="/fe-notes/assets/js/206.4b5a5115.js"><link rel="prefetch" href="/fe-notes/assets/js/207.77825369.js"><link rel="prefetch" href="/fe-notes/assets/js/208.548a77d2.js"><link rel="prefetch" href="/fe-notes/assets/js/209.e286bf98.js"><link rel="prefetch" href="/fe-notes/assets/js/21.5bbaf191.js"><link rel="prefetch" href="/fe-notes/assets/js/210.4ff22200.js"><link rel="prefetch" href="/fe-notes/assets/js/211.87d3b9f8.js"><link rel="prefetch" href="/fe-notes/assets/js/212.4baf5fe5.js"><link rel="prefetch" href="/fe-notes/assets/js/213.3501d1a5.js"><link rel="prefetch" href="/fe-notes/assets/js/214.5a119be9.js"><link rel="prefetch" href="/fe-notes/assets/js/215.6422dca4.js"><link rel="prefetch" href="/fe-notes/assets/js/216.8c8f3a4b.js"><link rel="prefetch" href="/fe-notes/assets/js/217.ada49303.js"><link rel="prefetch" href="/fe-notes/assets/js/218.3f120dd4.js"><link rel="prefetch" href="/fe-notes/assets/js/219.616fc91d.js"><link rel="prefetch" href="/fe-notes/assets/js/22.83b320f6.js"><link rel="prefetch" href="/fe-notes/assets/js/220.93d0a052.js"><link rel="prefetch" href="/fe-notes/assets/js/221.51cf766b.js"><link rel="prefetch" href="/fe-notes/assets/js/222.e21e73c3.js"><link rel="prefetch" href="/fe-notes/assets/js/223.09fe9120.js"><link rel="prefetch" href="/fe-notes/assets/js/224.d3b8e804.js"><link rel="prefetch" href="/fe-notes/assets/js/225.a19e67ae.js"><link rel="prefetch" href="/fe-notes/assets/js/226.36a44120.js"><link rel="prefetch" href="/fe-notes/assets/js/227.b2c63337.js"><link rel="prefetch" href="/fe-notes/assets/js/228.0a3e57ef.js"><link rel="prefetch" href="/fe-notes/assets/js/229.4279d959.js"><link rel="prefetch" href="/fe-notes/assets/js/23.59831ed6.js"><link rel="prefetch" href="/fe-notes/assets/js/230.14340350.js"><link rel="prefetch" href="/fe-notes/assets/js/231.83eddc3c.js"><link rel="prefetch" href="/fe-notes/assets/js/232.53f8de83.js"><link rel="prefetch" href="/fe-notes/assets/js/233.03f38b0a.js"><link rel="prefetch" href="/fe-notes/assets/js/234.367e67a6.js"><link rel="prefetch" href="/fe-notes/assets/js/235.d7ac7ea1.js"><link rel="prefetch" href="/fe-notes/assets/js/236.e9d676aa.js"><link rel="prefetch" href="/fe-notes/assets/js/237.88d88d4f.js"><link rel="prefetch" href="/fe-notes/assets/js/238.be5d9976.js"><link rel="prefetch" href="/fe-notes/assets/js/239.10c47781.js"><link rel="prefetch" href="/fe-notes/assets/js/24.d171b1da.js"><link rel="prefetch" href="/fe-notes/assets/js/240.7f7e9057.js"><link rel="prefetch" href="/fe-notes/assets/js/241.521afa4f.js"><link rel="prefetch" href="/fe-notes/assets/js/242.06d6e1f2.js"><link rel="prefetch" href="/fe-notes/assets/js/243.fcbff541.js"><link rel="prefetch" href="/fe-notes/assets/js/244.e99cb2dd.js"><link rel="prefetch" href="/fe-notes/assets/js/245.04b2f65e.js"><link rel="prefetch" href="/fe-notes/assets/js/246.456fc3bb.js"><link rel="prefetch" href="/fe-notes/assets/js/247.b5d332b3.js"><link rel="prefetch" href="/fe-notes/assets/js/248.495feadb.js"><link rel="prefetch" href="/fe-notes/assets/js/249.d0880af5.js"><link rel="prefetch" href="/fe-notes/assets/js/25.f92c4de3.js"><link rel="prefetch" href="/fe-notes/assets/js/250.8bc64327.js"><link rel="prefetch" href="/fe-notes/assets/js/251.7b89b6ac.js"><link rel="prefetch" href="/fe-notes/assets/js/252.97c7df28.js"><link rel="prefetch" href="/fe-notes/assets/js/253.e20644d7.js"><link rel="prefetch" href="/fe-notes/assets/js/254.cc96b633.js"><link rel="prefetch" href="/fe-notes/assets/js/255.308b98f4.js"><link rel="prefetch" href="/fe-notes/assets/js/256.01ae4bda.js"><link rel="prefetch" href="/fe-notes/assets/js/257.77c761c3.js"><link rel="prefetch" href="/fe-notes/assets/js/258.c15465ff.js"><link rel="prefetch" href="/fe-notes/assets/js/259.2ea4e9ab.js"><link rel="prefetch" href="/fe-notes/assets/js/26.d2fda899.js"><link rel="prefetch" href="/fe-notes/assets/js/260.5ef72e6e.js"><link rel="prefetch" href="/fe-notes/assets/js/261.df9e83c0.js"><link rel="prefetch" href="/fe-notes/assets/js/262.9f93dcbe.js"><link rel="prefetch" href="/fe-notes/assets/js/263.c895b59f.js"><link rel="prefetch" href="/fe-notes/assets/js/264.d8f787f9.js"><link rel="prefetch" href="/fe-notes/assets/js/265.e3c0ad58.js"><link rel="prefetch" href="/fe-notes/assets/js/266.6dfa8dae.js"><link rel="prefetch" href="/fe-notes/assets/js/267.2b47ccf2.js"><link rel="prefetch" href="/fe-notes/assets/js/268.ac30a03c.js"><link rel="prefetch" href="/fe-notes/assets/js/269.59de5cc6.js"><link rel="prefetch" href="/fe-notes/assets/js/27.6f9f1e03.js"><link rel="prefetch" href="/fe-notes/assets/js/270.ff1af94e.js"><link rel="prefetch" href="/fe-notes/assets/js/271.7f7152b9.js"><link rel="prefetch" href="/fe-notes/assets/js/272.5a05bcd2.js"><link rel="prefetch" href="/fe-notes/assets/js/273.204eac02.js"><link rel="prefetch" href="/fe-notes/assets/js/274.c0757056.js"><link rel="prefetch" href="/fe-notes/assets/js/275.7292b33e.js"><link rel="prefetch" href="/fe-notes/assets/js/276.9009e9da.js"><link rel="prefetch" href="/fe-notes/assets/js/277.da98194e.js"><link rel="prefetch" href="/fe-notes/assets/js/278.3bb8658f.js"><link rel="prefetch" href="/fe-notes/assets/js/279.c6bcfee6.js"><link rel="prefetch" href="/fe-notes/assets/js/28.d9ce88ab.js"><link rel="prefetch" href="/fe-notes/assets/js/280.248894e0.js"><link rel="prefetch" href="/fe-notes/assets/js/281.15920b4e.js"><link rel="prefetch" href="/fe-notes/assets/js/282.b531ba4c.js"><link rel="prefetch" href="/fe-notes/assets/js/283.e121220c.js"><link rel="prefetch" href="/fe-notes/assets/js/284.1e0cb73a.js"><link rel="prefetch" href="/fe-notes/assets/js/285.0440eb1e.js"><link rel="prefetch" href="/fe-notes/assets/js/286.4a7e1a2f.js"><link rel="prefetch" href="/fe-notes/assets/js/287.29c4e416.js"><link rel="prefetch" href="/fe-notes/assets/js/288.1f60f880.js"><link rel="prefetch" href="/fe-notes/assets/js/289.fbac4928.js"><link rel="prefetch" href="/fe-notes/assets/js/29.f3537421.js"><link rel="prefetch" href="/fe-notes/assets/js/290.5d24e679.js"><link rel="prefetch" href="/fe-notes/assets/js/291.a0cb5378.js"><link rel="prefetch" href="/fe-notes/assets/js/292.c307b453.js"><link rel="prefetch" href="/fe-notes/assets/js/293.18448a41.js"><link rel="prefetch" href="/fe-notes/assets/js/294.500016fa.js"><link rel="prefetch" href="/fe-notes/assets/js/295.3fb59e7d.js"><link rel="prefetch" href="/fe-notes/assets/js/296.7e418486.js"><link rel="prefetch" href="/fe-notes/assets/js/297.82d7b094.js"><link rel="prefetch" href="/fe-notes/assets/js/298.72b92f13.js"><link rel="prefetch" href="/fe-notes/assets/js/299.ed068b58.js"><link rel="prefetch" href="/fe-notes/assets/js/3.5ca5fa31.js"><link rel="prefetch" href="/fe-notes/assets/js/300.decd1c50.js"><link rel="prefetch" href="/fe-notes/assets/js/301.ac6c64b3.js"><link rel="prefetch" href="/fe-notes/assets/js/302.2f655351.js"><link rel="prefetch" href="/fe-notes/assets/js/303.214297cf.js"><link rel="prefetch" href="/fe-notes/assets/js/304.c8cb3d25.js"><link rel="prefetch" href="/fe-notes/assets/js/305.490b0bf4.js"><link rel="prefetch" href="/fe-notes/assets/js/306.bf59d4e6.js"><link rel="prefetch" href="/fe-notes/assets/js/307.ed6d223a.js"><link rel="prefetch" href="/fe-notes/assets/js/308.199b4fa5.js"><link rel="prefetch" href="/fe-notes/assets/js/309.645fbe73.js"><link rel="prefetch" href="/fe-notes/assets/js/31.b4fd35fa.js"><link rel="prefetch" href="/fe-notes/assets/js/310.6e0d92ae.js"><link rel="prefetch" href="/fe-notes/assets/js/311.6e51f6a5.js"><link rel="prefetch" href="/fe-notes/assets/js/312.e4ea1a16.js"><link rel="prefetch" href="/fe-notes/assets/js/313.a01c6561.js"><link rel="prefetch" href="/fe-notes/assets/js/314.f728f9ce.js"><link rel="prefetch" href="/fe-notes/assets/js/32.be19715e.js"><link rel="prefetch" href="/fe-notes/assets/js/33.2f32c378.js"><link rel="prefetch" href="/fe-notes/assets/js/34.009bd566.js"><link rel="prefetch" href="/fe-notes/assets/js/35.5c78a91a.js"><link rel="prefetch" href="/fe-notes/assets/js/36.581317e2.js"><link rel="prefetch" href="/fe-notes/assets/js/37.812a4308.js"><link rel="prefetch" href="/fe-notes/assets/js/38.1daf6af2.js"><link rel="prefetch" href="/fe-notes/assets/js/39.09f1ff29.js"><link rel="prefetch" href="/fe-notes/assets/js/4.33a435b7.js"><link rel="prefetch" href="/fe-notes/assets/js/40.20f65c42.js"><link rel="prefetch" href="/fe-notes/assets/js/41.322bd69f.js"><link rel="prefetch" href="/fe-notes/assets/js/42.9c72ca98.js"><link rel="prefetch" href="/fe-notes/assets/js/43.be9ec593.js"><link rel="prefetch" href="/fe-notes/assets/js/44.5d8b8a00.js"><link rel="prefetch" href="/fe-notes/assets/js/45.696e9597.js"><link rel="prefetch" href="/fe-notes/assets/js/46.793b2e02.js"><link rel="prefetch" href="/fe-notes/assets/js/47.fde1af0c.js"><link rel="prefetch" href="/fe-notes/assets/js/48.344fd853.js"><link rel="prefetch" href="/fe-notes/assets/js/49.2cf00938.js"><link rel="prefetch" href="/fe-notes/assets/js/5.7702ef90.js"><link rel="prefetch" href="/fe-notes/assets/js/50.baeea84b.js"><link rel="prefetch" href="/fe-notes/assets/js/51.30cc959c.js"><link rel="prefetch" href="/fe-notes/assets/js/52.8854a312.js"><link rel="prefetch" href="/fe-notes/assets/js/53.ae8e1467.js"><link rel="prefetch" href="/fe-notes/assets/js/54.5e25191a.js"><link rel="prefetch" href="/fe-notes/assets/js/55.47fc6868.js"><link rel="prefetch" href="/fe-notes/assets/js/56.b128d2d2.js"><link rel="prefetch" href="/fe-notes/assets/js/57.c82eb695.js"><link rel="prefetch" href="/fe-notes/assets/js/58.754ea6d5.js"><link rel="prefetch" href="/fe-notes/assets/js/59.8aac596b.js"><link rel="prefetch" href="/fe-notes/assets/js/6.5e57a940.js"><link rel="prefetch" href="/fe-notes/assets/js/60.81a67502.js"><link rel="prefetch" href="/fe-notes/assets/js/61.ac2837dd.js"><link rel="prefetch" href="/fe-notes/assets/js/62.e07c5ccb.js"><link rel="prefetch" href="/fe-notes/assets/js/63.29c0768c.js"><link rel="prefetch" href="/fe-notes/assets/js/64.04780b9d.js"><link rel="prefetch" href="/fe-notes/assets/js/65.0e71cdd9.js"><link rel="prefetch" href="/fe-notes/assets/js/66.0da8e639.js"><link rel="prefetch" href="/fe-notes/assets/js/67.753b9757.js"><link rel="prefetch" href="/fe-notes/assets/js/68.65544092.js"><link rel="prefetch" href="/fe-notes/assets/js/69.7d1c774a.js"><link rel="prefetch" href="/fe-notes/assets/js/7.527996d3.js"><link rel="prefetch" href="/fe-notes/assets/js/70.e098ec13.js"><link rel="prefetch" href="/fe-notes/assets/js/71.7dac9581.js"><link rel="prefetch" href="/fe-notes/assets/js/72.7b1ea4e0.js"><link rel="prefetch" href="/fe-notes/assets/js/73.7a264496.js"><link rel="prefetch" href="/fe-notes/assets/js/74.4a29c8dc.js"><link rel="prefetch" href="/fe-notes/assets/js/75.4a2b29b4.js"><link rel="prefetch" href="/fe-notes/assets/js/76.030d5bb9.js"><link rel="prefetch" href="/fe-notes/assets/js/77.e69f2a68.js"><link rel="prefetch" href="/fe-notes/assets/js/78.5c815799.js"><link rel="prefetch" href="/fe-notes/assets/js/79.89a07250.js"><link rel="prefetch" href="/fe-notes/assets/js/80.2965b576.js"><link rel="prefetch" href="/fe-notes/assets/js/81.8e11b1c2.js"><link rel="prefetch" href="/fe-notes/assets/js/82.1f18bd60.js"><link rel="prefetch" href="/fe-notes/assets/js/83.ee033c22.js"><link rel="prefetch" href="/fe-notes/assets/js/84.1f8cdfc7.js"><link rel="prefetch" href="/fe-notes/assets/js/85.a12fff11.js"><link rel="prefetch" href="/fe-notes/assets/js/86.99b7434c.js"><link rel="prefetch" href="/fe-notes/assets/js/87.5d460eff.js"><link rel="prefetch" href="/fe-notes/assets/js/88.88b923f7.js"><link rel="prefetch" href="/fe-notes/assets/js/89.1a38fcee.js"><link rel="prefetch" href="/fe-notes/assets/js/90.d59147ab.js"><link rel="prefetch" href="/fe-notes/assets/js/91.ad2cc9ae.js"><link rel="prefetch" href="/fe-notes/assets/js/92.341adf0b.js"><link rel="prefetch" href="/fe-notes/assets/js/93.f36b6992.js"><link rel="prefetch" href="/fe-notes/assets/js/94.848acf99.js"><link rel="prefetch" href="/fe-notes/assets/js/95.667d4de6.js"><link rel="prefetch" href="/fe-notes/assets/js/96.db4750cb.js"><link rel="prefetch" href="/fe-notes/assets/js/97.9176576e.js"><link rel="prefetch" href="/fe-notes/assets/js/98.92a31692.js"><link rel="prefetch" href="/fe-notes/assets/js/99.9d82da57.js"><link rel="prefetch" href="/fe-notes/assets/js/vendors~docsearch.bcd2b443.js">
    <link rel="stylesheet" href="/fe-notes/assets/css/0.styles.9dfc6ff8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-notes/" class="home-link router-link-active"><!----> <span class="site-name">fe-notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-notes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/css/" class="nav-link">
  HTML&amp;CSS
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/javascript/" class="nav-link">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/fe-notes/jquery/" class="nav-link">
  jQuery
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/vue/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vue-router/" class="nav-link">
  Vue Router
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vue-3.x/" class="nav-link">
  Vue3.x
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/transition/" class="nav-link">
  Transition
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/react-router/" class="nav-link">
  React Router
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/nextjs/" class="nav-link">
  Next
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/webpack/" class="nav-link router-link-active">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/typescript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/redux/" class="nav-link">
  Redux
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/jest/" class="nav-link">
  Jest
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/testing-library/" class="nav-link">
  Testing Library
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/lint/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJS" class="dropdown-title"><span class="title">NodeJS</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJS" class="mobile-dropdown-title"><span class="title">NodeJS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/nodejs/" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/npm/" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/yarn/" class="nav-link">
  Yarn
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/electron/" class="nav-link">
  Electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机通识" class="dropdown-title"><span class="title">计算机通识</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机通识" class="mobile-dropdown-title"><span class="title">计算机通识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/distilled/" class="nav-link">
  《计算机科学精粹》
</a></li><li class="dropdown-item"><h4>
          算法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/algorithm/" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/fe-notes/leetcode/" class="nav-link">
  LeetCode
</a></li></ul></li><li class="dropdown-item"><h4>
          网络
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/tcp/" class="nav-link">
  TCP/IP
</a></li><li class="dropdown-subitem"><a href="/fe-notes/http/" class="nav-link">
  HTTP(S)
</a></li><li class="dropdown-subitem"><a href="/fe-notes/network/" class="nav-link">
  网络综合
</a></li></ul></li><li class="dropdown-item"><h4>
          操作系统
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/fe-notes/docker/" class="nav-link">
  Docker
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/design/" class="nav-link">
  常见
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/handlebars/" class="nav-link">
  Handlebars
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/trick/" class="nav-link">
  踩坑
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/copywriting/" class="nav-link">
  文案排版
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/repository/" class="nav-link">
  网站
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/license/" class="nav-link">
  协议
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/ps/" class="nav-link">
  Photoshop
</a></li></ul></div></div><div class="nav-item"><a href="https://forlornlily.github.io/server-notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端开发
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ForlornLily/fe-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-notes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/css/" class="nav-link">
  HTML&amp;CSS
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/javascript/" class="nav-link">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/fe-notes/jquery/" class="nav-link">
  jQuery
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/vue/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vue-router/" class="nav-link">
  Vue Router
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vue-3.x/" class="nav-link">
  Vue3.x
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/transition/" class="nav-link">
  Transition
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/react-router/" class="nav-link">
  React Router
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/nextjs/" class="nav-link">
  Next
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/webpack/" class="nav-link router-link-active">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/typescript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/redux/" class="nav-link">
  Redux
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/jest/" class="nav-link">
  Jest
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/testing-library/" class="nav-link">
  Testing Library
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/lint/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJS" class="dropdown-title"><span class="title">NodeJS</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJS" class="mobile-dropdown-title"><span class="title">NodeJS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/nodejs/" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/npm/" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/yarn/" class="nav-link">
  Yarn
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/electron/" class="nav-link">
  Electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机通识" class="dropdown-title"><span class="title">计算机通识</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机通识" class="mobile-dropdown-title"><span class="title">计算机通识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/distilled/" class="nav-link">
  《计算机科学精粹》
</a></li><li class="dropdown-item"><h4>
          算法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/algorithm/" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/fe-notes/leetcode/" class="nav-link">
  LeetCode
</a></li></ul></li><li class="dropdown-item"><h4>
          网络
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/tcp/" class="nav-link">
  TCP/IP
</a></li><li class="dropdown-subitem"><a href="/fe-notes/http/" class="nav-link">
  HTTP(S)
</a></li><li class="dropdown-subitem"><a href="/fe-notes/network/" class="nav-link">
  网络综合
</a></li></ul></li><li class="dropdown-item"><h4>
          操作系统
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/fe-notes/docker/" class="nav-link">
  Docker
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/design/" class="nav-link">
  常见
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/handlebars/" class="nav-link">
  Handlebars
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/trick/" class="nav-link">
  踩坑
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/copywriting/" class="nav-link">
  文案排版
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/repository/" class="nav-link">
  网站
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/license/" class="nav-link">
  协议
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/ps/" class="nav-link">
  Photoshop
</a></li></ul></div></div><div class="nav-item"><a href="https://forlornlily.github.io/server-notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端开发
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ForlornLily/fe-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-notes/webpack/" aria-current="page" class="sidebar-link">概要</a></li><li><a href="/fe-notes/webpack/01_basic.html" class="sidebar-link">基本</a></li><li><a href="/fe-notes/webpack/02_output.html" class="sidebar-link">output</a></li><li><a href="/fe-notes/webpack/03_plugins.html" class="sidebar-link">plugins</a></li><li><a href="/fe-notes/webpack/04_loader.html" class="sidebar-link">loader</a></li><li><a href="/fe-notes/webpack/05_resolve.html" class="sidebar-link">resolve</a></li><li><a href="/fe-notes/webpack/06_mode.html" class="sidebar-link">mode</a></li><li><a href="/fe-notes/webpack/07_optimization.html" aria-current="page" class="active sidebar-link">优化：optimization</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#tree-shaking-只打包用到的模块" class="sidebar-link">Tree Shaking：只打包用到的模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#package-json" class="sidebar-link">package.json</a></li><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#sideeffects" class="sidebar-link">sideEffects</a></li><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#作用" class="sidebar-link">作用</a></li><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#原理" class="sidebar-link">原理</a></li><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#缺陷" class="sidebar-link">缺陷</a></li></ul></li><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#code-spliting-splitchunks" class="sidebar-link">Code Spliting: splitChunks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#配置" class="sidebar-link">配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#runtimechunk" class="sidebar-link">runtimeChunk</a></li><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#常见优化手段" class="sidebar-link">常见优化手段</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-notes/webpack/07_optimization.html#dllplugin" class="sidebar-link">dllplugin</a></li></ul></li></ul></li><li><a href="/fe-notes/webpack/10_usage.html" class="sidebar-link">使用</a></li><li><a href="/fe-notes/webpack/11_loader_plugin.html" class="sidebar-link">loader 和 plugin</a></li><li><a href="/fe-notes/webpack/12_progress.html" class="sidebar-link">流程</a></li><li><a href="/fe-notes/webpack/30_compare.html" class="sidebar-link">和其他对比</a></li><li><a href="/fe-notes/webpack/40_theory.html" class="sidebar-link">原理</a></li><li><a href="/fe-notes/webpack/80_demo.html" class="sidebar-link">实现小型 webpack</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="优化-optimization"><a href="#优化-optimization" class="header-anchor">#</a> 优化：optimization</h1> <h2 id="tree-shaking-只打包用到的模块"><a href="#tree-shaking-只打包用到的模块" class="header-anchor">#</a> Tree Shaking：只打包用到的模块</h2> <p>只能用在 ES module 上，也就是只能 import, 不能用在 require</p> <p>mode 是 production 时会自动开启</p> <p>mode 是 development 需要手动加入</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;index.min.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span> <span class="token comment">//必须是绝对路径</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="package-json"><a href="#package-json" class="header-anchor">#</a> package.json</h3> <p>开启 tree shaking 之后 webpack 只解析有导出(export)的模块</p> <p>像是 babel-pollyfill，并没有导出，而是
全局重写的 promise 等，为了保证类似 pollyfill 模块的正常使用，需要在 package.json 内单独配置这些</p> <p>常用的比如 import xx.css</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">]</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <h3 id="sideeffects"><a href="#sideeffects" class="header-anchor">#</a> sideEffects</h3> <p>参考<a href="https://zhuanlan.zhihu.com/p/40052192" target="_blank" rel="noopener noreferrer">Webpack 中的 sideEffects 到底该怎么用？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
总结：<br>
在 package.json 里面设置<code>sideEffects: false</code>是为了告诉 webpack，这个包理论上是没有副作用的。做 Tree Shaking 的时候当做无副用作的包处理</p> <h3 id="作用"><a href="#作用" class="header-anchor">#</a> 作用</h3> <p>webpack 入口文件有很多依赖的模块。实际情况中，虽然依赖了某个模块，但其实只使用其中的某些功能。<br>
通过 tree-shaking，将没有使用的模块摇掉，这样来达到删除无用代码的目的</p> <h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <p><a href="https://juejin.im/post/5a4dc842518825698e7279a9" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
利用的是 ES6 module 的依赖关系确定性<br>
ES6 module 的特点</p> <ul><li>只能在顶层出现</li> <li>模块名只能是字符串常量</li> <li>导入后的模块在当前 js 是不可变的
这样就可以进行静态分析，不需要执行引入模块的代码。</li></ul> <h3 id="缺陷"><a href="#缺陷" class="header-anchor">#</a> 缺陷</h3> <p>无法消除类的方法。由于<code>prototype</code>的继承，分析依赖会比较困难<br>
例如下面是一个&quot;senhai.js&quot;, 如果删掉整个&quot;senhai.js&quot;，对原生<code>Array</code>的自定义<code>unique</code>方法也没了，可能引起报错</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Senhai</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Senhai</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">servant</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;Saber&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;Alter&quot;</span><span class="token punctuation">,</span>
  b<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token string">&quot;QB&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  b <span class="token operator">=</span> Array<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  b <span class="token operator">=</span> Senhai<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
b<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">unique</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 将 array 中的重复元素去除</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Senhai<span class="token punctuation">;</span>
</code></pre></div><h2 id="code-spliting-splitchunks"><a href="#code-spliting-splitchunks" class="header-anchor">#</a> Code Spliting: splitChunks</h2> <p><img src="data:image/png;base64,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" alt=""></p> <p>抽取公共的依赖文件到单个文件里面。适用于同步代码</p> <p>如果是<a href="https://webpack.js.org/guides/code-splitting/#root" target="_blank" rel="noopener noreferrer">异步引入<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，比如 Promise，那么 webpack 会自动处理，不需要配置 optimization，但如果配置了 splitChunks，也会影响异步引入生成的结果</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'async'</span><span class="token punctuation">,</span> <span class="token comment">//异步代码进行code splitting, 配成&quot;all&quot;打包所有</span>
</code></pre></div><h3 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h3> <p><img src="/fe-notes/assets/img/0ae65c65e1104b74f352d8c99bb3f07b.0ae65c65.png" alt=""></p> <p><img src="/fe-notes/assets/img/44b762acd81f5026ab44fee1c7c85776.44b762ac.png" alt=""></p> <p>注释内的 webpackChunkName 表示动态引入的插件名字</p> <p>到时候打包的名字会叫 lodash.bundle.js</p> <p>splitChunks 的配置见官网<a href="https://webpack.js.org/plugins/split-chunks-plugin/" target="_blank" rel="noopener noreferrer">split-chunks-plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>解释见 Dell Lee
<a href="https://coding.imooc.com/class/316.html#mid=22363" target="_blank" rel="noopener noreferrer">慕课网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>4.5，4.6 节</p> <h2 id="runtimechunk"><a href="#runtimechunk" class="header-anchor">#</a> runtimeChunk</h2> <p><img src="data:image/png;base64,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" alt=""></p> <p>设置为&quot;single&quot;之后，根据提供的选项将运行时代码拆分成单独的块</p> <p>见<a href="/fe-notes/webpack/10_usage.html#缓存">缓存</a></p> <h2 id="常见优化手段"><a href="#常见优化手段" class="header-anchor">#</a> 常见优化手段</h2> <ul><li><p>更新到最新版本</p></li> <li><p>尽可能使用 include，少用 plugin，比如开发环境不需要压缩</p></li> <li><p>tree shaking: 只能用在 ES module 上</p></li> <li><p><a href="https://webpack.js.org/configuration/module/#modulenoparse" target="_blank" rel="noopener noreferrer">noParse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
防止 webpack 解析 noParse 内的文件。这些文件不会依赖其他模块，也就是不会有<code>import</code>, <code>require</code>, <code>define</code>的调用<br>
对于不依赖任何其他的插件来说可以提高构建的性能</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">noParse</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jquery|lodash</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>减少<a href="/fe-notes/webpack/04_loader.html#自定义loader">resolve</a></p></li> <li><p>合理使用<a href="/fe-notes/webpack/06_mode.html#cheap-module-eval-source-map">sourceMap</a></p></li> <li><p><a href="https://webpack.js.org/configuration/externals/#root" target="_blank" rel="noopener noreferrer">Externals<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
html 中已经用 CDN 引入了第三方插件，就没必要打包</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://code.jquery.com/jquery-3.1.0.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token string">&quot;jQuery&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>在业务内仍然可以使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//仍然可以import</span>
<span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.my-element&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>其他:
<a href="https://webpack.js.org/guides/build-performance/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>用<code>dllplugin</code>配置第三方模块，第一次打包后不再反复打包</p> <ul><li>DllPlugin 可以把我们需要打包的第三方库打包成一个 js 文件和一个 json 文件，这个 json 文件中会映射每个打包的模块地址和 id</li> <li>DllReferencePlugin 通过读取这个 json 文件来使用打包的这些模块</li></ul></li> <li><p>Happypack: JS 是单线程的，同样 NodeJS 也是，那么 webpack 也只能一个一个操作打包。<br>
用 Happypack 可以进行多<strong>进程</strong>打包，对于复杂项目可以加快打包速度，小项目没有必要</p></li> <li><p><a href="https://webpack.js.org/plugins/ignore-plugin/#root" target="_blank" rel="noopener noreferrer">IgnorePlugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
比如忽略某个模块下的某些文件夹，比如本地化语言文件夹</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//忽略moment下的locale目录</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">resourceRegExp</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\.\/locale$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">contextRegExp</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//只引入需要的语言</span>
<span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">&quot;moment&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;moment/locale/zh-cn&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 手动引入中文语言包</span>
moment<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">&quot;zh-cn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="dllplugin"><a href="#dllplugin" class="header-anchor">#</a> dllplugin</h3> <ol><li>新建一个配置文件，比如叫<code>webpack.dll.config.js</code><br>
入口文件配置第三方不需要改动的内容，异步加载的组件没必要放进去<br>
出口在 dist 下</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>onst path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 依赖的库数组</span>
      <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'babel-polyfill'</span><span class="token punctuation">,</span>
        <span class="token string">'vue'</span><span class="token punctuation">,</span>
        <span class="token string">'element-ui'</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">'[name]_[hash]'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// DllPlugin的name属性需要和libary保持一致</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'[name]_[hash]'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">,</span> <span class="token string">'[name]-manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// context需要和webpack.config.js保持一致</span>
        <span class="token literal-property property">context</span><span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>运行这个 js，生成 js 和 json</li> <li>webpack.config.js 中通过 <code>DLLReferencePlugin</code> 来使用 DllPlugin 生成的 DLL Bundle</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 编译入口</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 目标文件</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// dll相关配置</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">context</span><span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
      <span class="token comment">// manifest就是我们第一步中打包出来的json文件</span>
      <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/vendor-manifest.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ForlornLily/fe-notes/edit/master/docs/webpack/07_optimization.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">11/10/2023, 12:14:08 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fe-notes/webpack/06_mode.html" class="prev">
        mode
      </a></span> <span class="next"><a href="/fe-notes/webpack/10_usage.html">
        使用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fe-notes/assets/js/app.3a168dfd.js" defer></script><script src="/fe-notes/assets/js/2.c34af4f1.js" defer></script><script src="/fe-notes/assets/js/1.4e3eb9de.js" defer></script><script src="/fe-notes/assets/js/30.790cbfec.js" defer></script>
  </body>
</html>
