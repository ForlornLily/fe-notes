<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>代理与反射 | fe-notes</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/fe-notes/favicon.ico">
    <meta name="description" content="个人前端笔记">
    
    <link rel="preload" href="/fe-notes/assets/css/0.styles.9dfc6ff8.css" as="style"><link rel="preload" href="/fe-notes/assets/js/app.3a168dfd.js" as="script"><link rel="preload" href="/fe-notes/assets/js/2.c34af4f1.js" as="script"><link rel="preload" href="/fe-notes/assets/js/1.4e3eb9de.js" as="script"><link rel="preload" href="/fe-notes/assets/js/50.baeea84b.js" as="script"><link rel="prefetch" href="/fe-notes/assets/js/10.d7790d7b.js"><link rel="prefetch" href="/fe-notes/assets/js/100.1d955b8c.js"><link rel="prefetch" href="/fe-notes/assets/js/101.9d24706c.js"><link rel="prefetch" href="/fe-notes/assets/js/102.2cddc8f3.js"><link rel="prefetch" href="/fe-notes/assets/js/103.31fd48a8.js"><link rel="prefetch" href="/fe-notes/assets/js/104.710bf344.js"><link rel="prefetch" href="/fe-notes/assets/js/105.5969f92a.js"><link rel="prefetch" href="/fe-notes/assets/js/106.5fe4dac3.js"><link rel="prefetch" href="/fe-notes/assets/js/107.cade6010.js"><link rel="prefetch" href="/fe-notes/assets/js/108.4906eb25.js"><link rel="prefetch" href="/fe-notes/assets/js/109.a0b391be.js"><link rel="prefetch" href="/fe-notes/assets/js/11.43eb9996.js"><link rel="prefetch" href="/fe-notes/assets/js/110.8c843cf7.js"><link rel="prefetch" href="/fe-notes/assets/js/111.81af13b5.js"><link rel="prefetch" href="/fe-notes/assets/js/112.eb75052c.js"><link rel="prefetch" href="/fe-notes/assets/js/113.d0aecf94.js"><link rel="prefetch" href="/fe-notes/assets/js/114.dc75fd2f.js"><link rel="prefetch" href="/fe-notes/assets/js/115.36915f02.js"><link rel="prefetch" href="/fe-notes/assets/js/116.cbc26f91.js"><link rel="prefetch" href="/fe-notes/assets/js/117.8e77424c.js"><link rel="prefetch" href="/fe-notes/assets/js/118.b167f107.js"><link rel="prefetch" href="/fe-notes/assets/js/119.0a10acf9.js"><link rel="prefetch" href="/fe-notes/assets/js/12.0ec02ddd.js"><link rel="prefetch" href="/fe-notes/assets/js/120.eb0aab57.js"><link rel="prefetch" href="/fe-notes/assets/js/121.3c95a197.js"><link rel="prefetch" href="/fe-notes/assets/js/122.32a6f602.js"><link rel="prefetch" href="/fe-notes/assets/js/123.a2b46063.js"><link rel="prefetch" href="/fe-notes/assets/js/124.099e5955.js"><link rel="prefetch" href="/fe-notes/assets/js/125.22cc3d5c.js"><link rel="prefetch" href="/fe-notes/assets/js/126.e3594885.js"><link rel="prefetch" href="/fe-notes/assets/js/127.c6f10455.js"><link rel="prefetch" href="/fe-notes/assets/js/128.ce24aecc.js"><link rel="prefetch" href="/fe-notes/assets/js/129.fc3e5554.js"><link rel="prefetch" href="/fe-notes/assets/js/13.78152d0b.js"><link rel="prefetch" href="/fe-notes/assets/js/130.c5c3742c.js"><link rel="prefetch" href="/fe-notes/assets/js/131.7a360af2.js"><link rel="prefetch" href="/fe-notes/assets/js/132.9d4fe360.js"><link rel="prefetch" href="/fe-notes/assets/js/133.c463096e.js"><link rel="prefetch" href="/fe-notes/assets/js/134.e2b52323.js"><link rel="prefetch" href="/fe-notes/assets/js/135.bd6d20a6.js"><link rel="prefetch" href="/fe-notes/assets/js/136.872158e5.js"><link rel="prefetch" href="/fe-notes/assets/js/137.5b3a875b.js"><link rel="prefetch" href="/fe-notes/assets/js/138.7685ef53.js"><link rel="prefetch" href="/fe-notes/assets/js/139.c5bb726d.js"><link rel="prefetch" href="/fe-notes/assets/js/14.6a9ef67a.js"><link rel="prefetch" href="/fe-notes/assets/js/140.9dec21eb.js"><link rel="prefetch" href="/fe-notes/assets/js/141.f337e59f.js"><link rel="prefetch" href="/fe-notes/assets/js/142.2c46c119.js"><link rel="prefetch" href="/fe-notes/assets/js/143.fa39f9c3.js"><link rel="prefetch" href="/fe-notes/assets/js/144.1a3a6ecc.js"><link rel="prefetch" href="/fe-notes/assets/js/145.4bb9d8ab.js"><link rel="prefetch" href="/fe-notes/assets/js/146.feadf802.js"><link rel="prefetch" href="/fe-notes/assets/js/147.07092725.js"><link rel="prefetch" href="/fe-notes/assets/js/148.23197f81.js"><link rel="prefetch" href="/fe-notes/assets/js/149.f4ac5c5c.js"><link rel="prefetch" href="/fe-notes/assets/js/15.96c9bf57.js"><link rel="prefetch" href="/fe-notes/assets/js/150.06a0409e.js"><link rel="prefetch" href="/fe-notes/assets/js/151.9879c192.js"><link rel="prefetch" href="/fe-notes/assets/js/152.c0ab61ec.js"><link rel="prefetch" href="/fe-notes/assets/js/153.621611fb.js"><link rel="prefetch" href="/fe-notes/assets/js/154.7f7453d5.js"><link rel="prefetch" href="/fe-notes/assets/js/155.56e356d3.js"><link rel="prefetch" href="/fe-notes/assets/js/156.0d733aa0.js"><link rel="prefetch" href="/fe-notes/assets/js/157.d241e320.js"><link rel="prefetch" href="/fe-notes/assets/js/158.844d5b84.js"><link rel="prefetch" href="/fe-notes/assets/js/159.61ba14f0.js"><link rel="prefetch" href="/fe-notes/assets/js/16.a80ecebb.js"><link rel="prefetch" href="/fe-notes/assets/js/160.f986bb29.js"><link rel="prefetch" href="/fe-notes/assets/js/161.c4315e4c.js"><link rel="prefetch" href="/fe-notes/assets/js/162.e69545e8.js"><link rel="prefetch" href="/fe-notes/assets/js/163.7cf2fcf0.js"><link rel="prefetch" href="/fe-notes/assets/js/164.77a48e63.js"><link rel="prefetch" href="/fe-notes/assets/js/165.a0327df4.js"><link rel="prefetch" href="/fe-notes/assets/js/166.2e16f205.js"><link rel="prefetch" href="/fe-notes/assets/js/167.f1a6a09c.js"><link rel="prefetch" href="/fe-notes/assets/js/168.cc9b8512.js"><link rel="prefetch" href="/fe-notes/assets/js/169.86e0fc4a.js"><link rel="prefetch" href="/fe-notes/assets/js/17.7102de0b.js"><link rel="prefetch" href="/fe-notes/assets/js/170.4b2c626c.js"><link rel="prefetch" href="/fe-notes/assets/js/171.f26c3435.js"><link rel="prefetch" href="/fe-notes/assets/js/172.8376be78.js"><link rel="prefetch" href="/fe-notes/assets/js/173.1e31f20a.js"><link rel="prefetch" href="/fe-notes/assets/js/174.9281dfa6.js"><link rel="prefetch" href="/fe-notes/assets/js/175.a84992e1.js"><link rel="prefetch" href="/fe-notes/assets/js/176.7bba3bf4.js"><link rel="prefetch" href="/fe-notes/assets/js/177.46fddad0.js"><link rel="prefetch" href="/fe-notes/assets/js/178.ed7ceb77.js"><link rel="prefetch" href="/fe-notes/assets/js/179.3d3d643e.js"><link rel="prefetch" href="/fe-notes/assets/js/18.5d340b88.js"><link rel="prefetch" href="/fe-notes/assets/js/180.1696ffc1.js"><link rel="prefetch" href="/fe-notes/assets/js/181.0dfd8494.js"><link rel="prefetch" href="/fe-notes/assets/js/182.0a3093e6.js"><link rel="prefetch" href="/fe-notes/assets/js/183.942c5c6e.js"><link rel="prefetch" href="/fe-notes/assets/js/184.29420180.js"><link rel="prefetch" href="/fe-notes/assets/js/185.49767fd0.js"><link rel="prefetch" href="/fe-notes/assets/js/186.aa8b2ae5.js"><link rel="prefetch" href="/fe-notes/assets/js/187.a0eb883b.js"><link rel="prefetch" href="/fe-notes/assets/js/188.8cb11493.js"><link rel="prefetch" href="/fe-notes/assets/js/189.d36d2136.js"><link rel="prefetch" href="/fe-notes/assets/js/19.d89d2c3c.js"><link rel="prefetch" href="/fe-notes/assets/js/190.a68f68f2.js"><link rel="prefetch" href="/fe-notes/assets/js/191.0c7f2386.js"><link rel="prefetch" href="/fe-notes/assets/js/192.cefa25dc.js"><link rel="prefetch" href="/fe-notes/assets/js/193.9606090a.js"><link rel="prefetch" href="/fe-notes/assets/js/194.e54a0766.js"><link rel="prefetch" href="/fe-notes/assets/js/195.e7bb65d2.js"><link rel="prefetch" href="/fe-notes/assets/js/196.78ff12d4.js"><link rel="prefetch" href="/fe-notes/assets/js/197.6fc5eaa5.js"><link rel="prefetch" href="/fe-notes/assets/js/198.79a003b7.js"><link rel="prefetch" href="/fe-notes/assets/js/199.dc2426ef.js"><link rel="prefetch" href="/fe-notes/assets/js/20.f4c8ca34.js"><link rel="prefetch" href="/fe-notes/assets/js/200.b2c97b9f.js"><link rel="prefetch" href="/fe-notes/assets/js/201.ba237c96.js"><link rel="prefetch" href="/fe-notes/assets/js/202.eff59685.js"><link rel="prefetch" href="/fe-notes/assets/js/203.2bf94c82.js"><link rel="prefetch" href="/fe-notes/assets/js/204.9a6b12e1.js"><link rel="prefetch" href="/fe-notes/assets/js/205.98bdf8a6.js"><link rel="prefetch" href="/fe-notes/assets/js/206.4b5a5115.js"><link rel="prefetch" href="/fe-notes/assets/js/207.77825369.js"><link rel="prefetch" href="/fe-notes/assets/js/208.548a77d2.js"><link rel="prefetch" href="/fe-notes/assets/js/209.e286bf98.js"><link rel="prefetch" href="/fe-notes/assets/js/21.5bbaf191.js"><link rel="prefetch" href="/fe-notes/assets/js/210.4ff22200.js"><link rel="prefetch" href="/fe-notes/assets/js/211.87d3b9f8.js"><link rel="prefetch" href="/fe-notes/assets/js/212.4baf5fe5.js"><link rel="prefetch" href="/fe-notes/assets/js/213.3501d1a5.js"><link rel="prefetch" href="/fe-notes/assets/js/214.5a119be9.js"><link rel="prefetch" href="/fe-notes/assets/js/215.6422dca4.js"><link rel="prefetch" href="/fe-notes/assets/js/216.8c8f3a4b.js"><link rel="prefetch" href="/fe-notes/assets/js/217.ada49303.js"><link rel="prefetch" href="/fe-notes/assets/js/218.3f120dd4.js"><link rel="prefetch" href="/fe-notes/assets/js/219.616fc91d.js"><link rel="prefetch" href="/fe-notes/assets/js/22.83b320f6.js"><link rel="prefetch" href="/fe-notes/assets/js/220.93d0a052.js"><link rel="prefetch" href="/fe-notes/assets/js/221.51cf766b.js"><link rel="prefetch" href="/fe-notes/assets/js/222.e21e73c3.js"><link rel="prefetch" href="/fe-notes/assets/js/223.09fe9120.js"><link rel="prefetch" href="/fe-notes/assets/js/224.d3b8e804.js"><link rel="prefetch" href="/fe-notes/assets/js/225.a19e67ae.js"><link rel="prefetch" href="/fe-notes/assets/js/226.36a44120.js"><link rel="prefetch" href="/fe-notes/assets/js/227.b2c63337.js"><link rel="prefetch" href="/fe-notes/assets/js/228.0a3e57ef.js"><link rel="prefetch" href="/fe-notes/assets/js/229.4279d959.js"><link rel="prefetch" href="/fe-notes/assets/js/23.59831ed6.js"><link rel="prefetch" href="/fe-notes/assets/js/230.14340350.js"><link rel="prefetch" href="/fe-notes/assets/js/231.83eddc3c.js"><link rel="prefetch" href="/fe-notes/assets/js/232.53f8de83.js"><link rel="prefetch" href="/fe-notes/assets/js/233.03f38b0a.js"><link rel="prefetch" href="/fe-notes/assets/js/234.367e67a6.js"><link rel="prefetch" href="/fe-notes/assets/js/235.d7ac7ea1.js"><link rel="prefetch" href="/fe-notes/assets/js/236.e9d676aa.js"><link rel="prefetch" href="/fe-notes/assets/js/237.88d88d4f.js"><link rel="prefetch" href="/fe-notes/assets/js/238.be5d9976.js"><link rel="prefetch" href="/fe-notes/assets/js/239.10c47781.js"><link rel="prefetch" href="/fe-notes/assets/js/24.d171b1da.js"><link rel="prefetch" href="/fe-notes/assets/js/240.7f7e9057.js"><link rel="prefetch" href="/fe-notes/assets/js/241.521afa4f.js"><link rel="prefetch" href="/fe-notes/assets/js/242.06d6e1f2.js"><link rel="prefetch" href="/fe-notes/assets/js/243.fcbff541.js"><link rel="prefetch" href="/fe-notes/assets/js/244.e99cb2dd.js"><link rel="prefetch" href="/fe-notes/assets/js/245.04b2f65e.js"><link rel="prefetch" href="/fe-notes/assets/js/246.456fc3bb.js"><link rel="prefetch" href="/fe-notes/assets/js/247.b5d332b3.js"><link rel="prefetch" href="/fe-notes/assets/js/248.495feadb.js"><link rel="prefetch" href="/fe-notes/assets/js/249.d0880af5.js"><link rel="prefetch" href="/fe-notes/assets/js/25.f92c4de3.js"><link rel="prefetch" href="/fe-notes/assets/js/250.8bc64327.js"><link rel="prefetch" href="/fe-notes/assets/js/251.7b89b6ac.js"><link rel="prefetch" href="/fe-notes/assets/js/252.97c7df28.js"><link rel="prefetch" href="/fe-notes/assets/js/253.e20644d7.js"><link rel="prefetch" href="/fe-notes/assets/js/254.cc96b633.js"><link rel="prefetch" href="/fe-notes/assets/js/255.308b98f4.js"><link rel="prefetch" href="/fe-notes/assets/js/256.01ae4bda.js"><link rel="prefetch" href="/fe-notes/assets/js/257.77c761c3.js"><link rel="prefetch" href="/fe-notes/assets/js/258.c15465ff.js"><link rel="prefetch" href="/fe-notes/assets/js/259.2ea4e9ab.js"><link rel="prefetch" href="/fe-notes/assets/js/26.d2fda899.js"><link rel="prefetch" href="/fe-notes/assets/js/260.5ef72e6e.js"><link rel="prefetch" href="/fe-notes/assets/js/261.df9e83c0.js"><link rel="prefetch" href="/fe-notes/assets/js/262.9f93dcbe.js"><link rel="prefetch" href="/fe-notes/assets/js/263.c895b59f.js"><link rel="prefetch" href="/fe-notes/assets/js/264.d8f787f9.js"><link rel="prefetch" href="/fe-notes/assets/js/265.e3c0ad58.js"><link rel="prefetch" href="/fe-notes/assets/js/266.6dfa8dae.js"><link rel="prefetch" href="/fe-notes/assets/js/267.2b47ccf2.js"><link rel="prefetch" href="/fe-notes/assets/js/268.ac30a03c.js"><link rel="prefetch" href="/fe-notes/assets/js/269.59de5cc6.js"><link rel="prefetch" href="/fe-notes/assets/js/27.6f9f1e03.js"><link rel="prefetch" href="/fe-notes/assets/js/270.ff1af94e.js"><link rel="prefetch" href="/fe-notes/assets/js/271.7f7152b9.js"><link rel="prefetch" href="/fe-notes/assets/js/272.5a05bcd2.js"><link rel="prefetch" href="/fe-notes/assets/js/273.204eac02.js"><link rel="prefetch" href="/fe-notes/assets/js/274.c0757056.js"><link rel="prefetch" href="/fe-notes/assets/js/275.7292b33e.js"><link rel="prefetch" href="/fe-notes/assets/js/276.9009e9da.js"><link rel="prefetch" href="/fe-notes/assets/js/277.da98194e.js"><link rel="prefetch" href="/fe-notes/assets/js/278.3bb8658f.js"><link rel="prefetch" href="/fe-notes/assets/js/279.c6bcfee6.js"><link rel="prefetch" href="/fe-notes/assets/js/28.d9ce88ab.js"><link rel="prefetch" href="/fe-notes/assets/js/280.248894e0.js"><link rel="prefetch" href="/fe-notes/assets/js/281.15920b4e.js"><link rel="prefetch" href="/fe-notes/assets/js/282.b531ba4c.js"><link rel="prefetch" href="/fe-notes/assets/js/283.e121220c.js"><link rel="prefetch" href="/fe-notes/assets/js/284.1e0cb73a.js"><link rel="prefetch" href="/fe-notes/assets/js/285.0440eb1e.js"><link rel="prefetch" href="/fe-notes/assets/js/286.4a7e1a2f.js"><link rel="prefetch" href="/fe-notes/assets/js/287.29c4e416.js"><link rel="prefetch" href="/fe-notes/assets/js/288.1f60f880.js"><link rel="prefetch" href="/fe-notes/assets/js/289.fbac4928.js"><link rel="prefetch" href="/fe-notes/assets/js/29.f3537421.js"><link rel="prefetch" href="/fe-notes/assets/js/290.5d24e679.js"><link rel="prefetch" href="/fe-notes/assets/js/291.a0cb5378.js"><link rel="prefetch" href="/fe-notes/assets/js/292.c307b453.js"><link rel="prefetch" href="/fe-notes/assets/js/293.18448a41.js"><link rel="prefetch" href="/fe-notes/assets/js/294.500016fa.js"><link rel="prefetch" href="/fe-notes/assets/js/295.3fb59e7d.js"><link rel="prefetch" href="/fe-notes/assets/js/296.7e418486.js"><link rel="prefetch" href="/fe-notes/assets/js/297.82d7b094.js"><link rel="prefetch" href="/fe-notes/assets/js/298.72b92f13.js"><link rel="prefetch" href="/fe-notes/assets/js/299.ed068b58.js"><link rel="prefetch" href="/fe-notes/assets/js/3.5ca5fa31.js"><link rel="prefetch" href="/fe-notes/assets/js/30.790cbfec.js"><link rel="prefetch" href="/fe-notes/assets/js/300.decd1c50.js"><link rel="prefetch" href="/fe-notes/assets/js/301.ac6c64b3.js"><link rel="prefetch" href="/fe-notes/assets/js/302.2f655351.js"><link rel="prefetch" href="/fe-notes/assets/js/303.214297cf.js"><link rel="prefetch" href="/fe-notes/assets/js/304.c8cb3d25.js"><link rel="prefetch" href="/fe-notes/assets/js/305.490b0bf4.js"><link rel="prefetch" href="/fe-notes/assets/js/306.bf59d4e6.js"><link rel="prefetch" href="/fe-notes/assets/js/307.ed6d223a.js"><link rel="prefetch" href="/fe-notes/assets/js/308.199b4fa5.js"><link rel="prefetch" href="/fe-notes/assets/js/309.645fbe73.js"><link rel="prefetch" href="/fe-notes/assets/js/31.b4fd35fa.js"><link rel="prefetch" href="/fe-notes/assets/js/310.6e0d92ae.js"><link rel="prefetch" href="/fe-notes/assets/js/311.6e51f6a5.js"><link rel="prefetch" href="/fe-notes/assets/js/312.e4ea1a16.js"><link rel="prefetch" href="/fe-notes/assets/js/313.a01c6561.js"><link rel="prefetch" href="/fe-notes/assets/js/314.f728f9ce.js"><link rel="prefetch" href="/fe-notes/assets/js/32.be19715e.js"><link rel="prefetch" href="/fe-notes/assets/js/33.2f32c378.js"><link rel="prefetch" href="/fe-notes/assets/js/34.009bd566.js"><link rel="prefetch" href="/fe-notes/assets/js/35.5c78a91a.js"><link rel="prefetch" href="/fe-notes/assets/js/36.581317e2.js"><link rel="prefetch" href="/fe-notes/assets/js/37.812a4308.js"><link rel="prefetch" href="/fe-notes/assets/js/38.1daf6af2.js"><link rel="prefetch" href="/fe-notes/assets/js/39.09f1ff29.js"><link rel="prefetch" href="/fe-notes/assets/js/4.33a435b7.js"><link rel="prefetch" href="/fe-notes/assets/js/40.20f65c42.js"><link rel="prefetch" href="/fe-notes/assets/js/41.322bd69f.js"><link rel="prefetch" href="/fe-notes/assets/js/42.9c72ca98.js"><link rel="prefetch" href="/fe-notes/assets/js/43.be9ec593.js"><link rel="prefetch" href="/fe-notes/assets/js/44.5d8b8a00.js"><link rel="prefetch" href="/fe-notes/assets/js/45.696e9597.js"><link rel="prefetch" href="/fe-notes/assets/js/46.793b2e02.js"><link rel="prefetch" href="/fe-notes/assets/js/47.fde1af0c.js"><link rel="prefetch" href="/fe-notes/assets/js/48.344fd853.js"><link rel="prefetch" href="/fe-notes/assets/js/49.2cf00938.js"><link rel="prefetch" href="/fe-notes/assets/js/5.7702ef90.js"><link rel="prefetch" href="/fe-notes/assets/js/51.30cc959c.js"><link rel="prefetch" href="/fe-notes/assets/js/52.8854a312.js"><link rel="prefetch" href="/fe-notes/assets/js/53.ae8e1467.js"><link rel="prefetch" href="/fe-notes/assets/js/54.5e25191a.js"><link rel="prefetch" href="/fe-notes/assets/js/55.47fc6868.js"><link rel="prefetch" href="/fe-notes/assets/js/56.b128d2d2.js"><link rel="prefetch" href="/fe-notes/assets/js/57.c82eb695.js"><link rel="prefetch" href="/fe-notes/assets/js/58.754ea6d5.js"><link rel="prefetch" href="/fe-notes/assets/js/59.8aac596b.js"><link rel="prefetch" href="/fe-notes/assets/js/6.5e57a940.js"><link rel="prefetch" href="/fe-notes/assets/js/60.81a67502.js"><link rel="prefetch" href="/fe-notes/assets/js/61.ac2837dd.js"><link rel="prefetch" href="/fe-notes/assets/js/62.e07c5ccb.js"><link rel="prefetch" href="/fe-notes/assets/js/63.29c0768c.js"><link rel="prefetch" href="/fe-notes/assets/js/64.04780b9d.js"><link rel="prefetch" href="/fe-notes/assets/js/65.0e71cdd9.js"><link rel="prefetch" href="/fe-notes/assets/js/66.0da8e639.js"><link rel="prefetch" href="/fe-notes/assets/js/67.753b9757.js"><link rel="prefetch" href="/fe-notes/assets/js/68.65544092.js"><link rel="prefetch" href="/fe-notes/assets/js/69.7d1c774a.js"><link rel="prefetch" href="/fe-notes/assets/js/7.527996d3.js"><link rel="prefetch" href="/fe-notes/assets/js/70.e098ec13.js"><link rel="prefetch" href="/fe-notes/assets/js/71.7dac9581.js"><link rel="prefetch" href="/fe-notes/assets/js/72.7b1ea4e0.js"><link rel="prefetch" href="/fe-notes/assets/js/73.7a264496.js"><link rel="prefetch" href="/fe-notes/assets/js/74.4a29c8dc.js"><link rel="prefetch" href="/fe-notes/assets/js/75.4a2b29b4.js"><link rel="prefetch" href="/fe-notes/assets/js/76.030d5bb9.js"><link rel="prefetch" href="/fe-notes/assets/js/77.e69f2a68.js"><link rel="prefetch" href="/fe-notes/assets/js/78.5c815799.js"><link rel="prefetch" href="/fe-notes/assets/js/79.89a07250.js"><link rel="prefetch" href="/fe-notes/assets/js/80.2965b576.js"><link rel="prefetch" href="/fe-notes/assets/js/81.8e11b1c2.js"><link rel="prefetch" href="/fe-notes/assets/js/82.1f18bd60.js"><link rel="prefetch" href="/fe-notes/assets/js/83.ee033c22.js"><link rel="prefetch" href="/fe-notes/assets/js/84.1f8cdfc7.js"><link rel="prefetch" href="/fe-notes/assets/js/85.a12fff11.js"><link rel="prefetch" href="/fe-notes/assets/js/86.99b7434c.js"><link rel="prefetch" href="/fe-notes/assets/js/87.5d460eff.js"><link rel="prefetch" href="/fe-notes/assets/js/88.88b923f7.js"><link rel="prefetch" href="/fe-notes/assets/js/89.1a38fcee.js"><link rel="prefetch" href="/fe-notes/assets/js/90.d59147ab.js"><link rel="prefetch" href="/fe-notes/assets/js/91.ad2cc9ae.js"><link rel="prefetch" href="/fe-notes/assets/js/92.341adf0b.js"><link rel="prefetch" href="/fe-notes/assets/js/93.f36b6992.js"><link rel="prefetch" href="/fe-notes/assets/js/94.848acf99.js"><link rel="prefetch" href="/fe-notes/assets/js/95.667d4de6.js"><link rel="prefetch" href="/fe-notes/assets/js/96.db4750cb.js"><link rel="prefetch" href="/fe-notes/assets/js/97.9176576e.js"><link rel="prefetch" href="/fe-notes/assets/js/98.92a31692.js"><link rel="prefetch" href="/fe-notes/assets/js/99.9d82da57.js"><link rel="prefetch" href="/fe-notes/assets/js/vendors~docsearch.bcd2b443.js">
    <link rel="stylesheet" href="/fe-notes/assets/css/0.styles.9dfc6ff8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-notes/" class="home-link router-link-active"><!----> <span class="site-name">fe-notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-notes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/css/" class="nav-link">
  HTML&amp;CSS
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/fe-notes/jquery/" class="nav-link">
  jQuery
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/vue/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vue-router/" class="nav-link">
  Vue Router
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vue-3.x/" class="nav-link">
  Vue3.x
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/transition/" class="nav-link">
  Transition
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/react-router/" class="nav-link">
  React Router
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/nextjs/" class="nav-link">
  Next
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/typescript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/redux/" class="nav-link">
  Redux
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/jest/" class="nav-link">
  Jest
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/testing-library/" class="nav-link">
  Testing Library
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/lint/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJS" class="dropdown-title"><span class="title">NodeJS</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJS" class="mobile-dropdown-title"><span class="title">NodeJS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/nodejs/" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/npm/" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/yarn/" class="nav-link">
  Yarn
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/electron/" class="nav-link">
  Electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机通识" class="dropdown-title"><span class="title">计算机通识</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机通识" class="mobile-dropdown-title"><span class="title">计算机通识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/distilled/" class="nav-link">
  《计算机科学精粹》
</a></li><li class="dropdown-item"><h4>
          算法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/algorithm/" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/fe-notes/leetcode/" class="nav-link">
  LeetCode
</a></li></ul></li><li class="dropdown-item"><h4>
          网络
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/tcp/" class="nav-link">
  TCP/IP
</a></li><li class="dropdown-subitem"><a href="/fe-notes/http/" class="nav-link">
  HTTP(S)
</a></li><li class="dropdown-subitem"><a href="/fe-notes/network/" class="nav-link">
  网络综合
</a></li></ul></li><li class="dropdown-item"><h4>
          操作系统
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/fe-notes/docker/" class="nav-link">
  Docker
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/design/" class="nav-link">
  常见
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/handlebars/" class="nav-link">
  Handlebars
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/trick/" class="nav-link">
  踩坑
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/copywriting/" class="nav-link">
  文案排版
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/repository/" class="nav-link">
  网站
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/license/" class="nav-link">
  协议
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/ps/" class="nav-link">
  Photoshop
</a></li></ul></div></div><div class="nav-item"><a href="https://forlornlily.github.io/server-notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端开发
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ForlornLily/fe-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-notes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/css/" class="nav-link">
  HTML&amp;CSS
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/fe-notes/jquery/" class="nav-link">
  jQuery
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/vue/" class="nav-link">
  Vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vue-router/" class="nav-link">
  Vue Router
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/vue-3.x/" class="nav-link">
  Vue3.x
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/transition/" class="nav-link">
  Transition
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/react-router/" class="nav-link">
  React Router
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/nextjs/" class="nav-link">
  Next
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/typescript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/redux/" class="nav-link">
  Redux
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/jest/" class="nav-link">
  Jest
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/testing-library/" class="nav-link">
  Testing Library
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/lint/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NodeJS" class="dropdown-title"><span class="title">NodeJS</span> <span class="arrow down"></span></button> <button type="button" aria-label="NodeJS" class="mobile-dropdown-title"><span class="title">NodeJS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/nodejs/" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/npm/" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/yarn/" class="nav-link">
  Yarn
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/electron/" class="nav-link">
  Electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机通识" class="dropdown-title"><span class="title">计算机通识</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机通识" class="mobile-dropdown-title"><span class="title">计算机通识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/distilled/" class="nav-link">
  《计算机科学精粹》
</a></li><li class="dropdown-item"><h4>
          算法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/algorithm/" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/fe-notes/leetcode/" class="nav-link">
  LeetCode
</a></li></ul></li><li class="dropdown-item"><h4>
          网络
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/tcp/" class="nav-link">
  TCP/IP
</a></li><li class="dropdown-subitem"><a href="/fe-notes/http/" class="nav-link">
  HTTP(S)
</a></li><li class="dropdown-subitem"><a href="/fe-notes/network/" class="nav-link">
  网络综合
</a></li></ul></li><li class="dropdown-item"><h4>
          操作系统
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/fe-notes/docker/" class="nav-link">
  Docker
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-notes/design/" class="nav-link">
  常见
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-notes/handlebars/" class="nav-link">
  Handlebars
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/trick/" class="nav-link">
  踩坑
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/copywriting/" class="nav-link">
  文案排版
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/repository/" class="nav-link">
  网站
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/license/" class="nav-link">
  协议
</a></li><li class="dropdown-item"><!----> <a href="/fe-notes/ps/" class="nav-link">
  Photoshop
</a></li></ul></div></div><div class="nav-item"><a href="https://forlornlily.github.io/server-notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后端开发
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ForlornLily/fe-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-notes/javascript/" aria-current="page" class="sidebar-link">概要</a></li><li><a href="/fe-notes/javascript/001_introduce.html" class="sidebar-link">简介</a></li><li><a href="/fe-notes/javascript/002_script.html" class="sidebar-link">HTML 内使用</a></li><li><a href="/fe-notes/javascript/003_syntax.html" class="sidebar-link">语法</a></li><li><a href="/fe-notes/javascript/004_datatype.html" class="sidebar-link">数据类型</a></li><li><a href="/fe-notes/javascript/005_primitive_types.html" class="sidebar-link">简单数据类型/基本类型</a></li><li><a href="/fe-notes/javascript/006_boolean.html" class="sidebar-link">Boolean</a></li><li><a href="/fe-notes/javascript/007_number.html" class="sidebar-link">Number</a></li><li><a href="/fe-notes/javascript/008_string.html" class="sidebar-link">String</a></li><li><a href="/fe-notes/javascript/009_symbol.html" class="sidebar-link">Symbol</a></li><li><a href="/fe-notes/javascript/010_primitive_wrapper_types.html" class="sidebar-link">基本包装类型</a></li><li><a href="/fe-notes/javascript/012_complex_data.html" class="sidebar-link">复杂类型/引用类型</a></li><li><a href="/fe-notes/javascript/013_operator.html" class="sidebar-link">操作符</a></li><li><a href="/fe-notes/javascript/014_statement.html" class="sidebar-link">语句</a></li><li><a href="/fe-notes/javascript/019_transrule.html" class="sidebar-link">转换规则总结</a></li><li><a href="/fe-notes/javascript/020_scope.html" class="sidebar-link">变量和作用域</a></li><li><a href="/fe-notes/javascript/022_object.html" class="sidebar-link">引用类型细分</a></li><li><a href="/fe-notes/javascript/023_array.html" class="sidebar-link">Array</a></li><li><a href="/fe-notes/javascript/024_date.html" class="sidebar-link">Date</a></li><li><a href="/fe-notes/javascript/025_function.html" class="sidebar-link">Function</a></li><li><a href="/fe-notes/javascript/026_math.html" class="sidebar-link">Math</a></li><li><a href="/fe-notes/javascript/027_global.html" class="sidebar-link">Global</a></li><li><a href="/fe-notes/javascript/028_set.html" class="sidebar-link">Set</a></li><li><a href="/fe-notes/javascript/029_map.html" class="sidebar-link">Map</a></li><li><a href="/fe-notes/javascript/030_regexp.html" class="sidebar-link">RegExp</a></li><li><a href="/fe-notes/javascript/031_typed_array.html" class="sidebar-link">TypedArray</a></li><li><a href="/fe-notes/javascript/038_iterators.html" class="sidebar-link">迭代器和生成器</a></li><li><a href="/fe-notes/javascript/040_oop.html" class="sidebar-link">面向对象</a></li><li><a href="/fe-notes/javascript/045_proxy.html" aria-current="page" class="active sidebar-link">代理与反射</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#new-proxy-target-handler" class="sidebar-link">new Proxy(target, handler)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#target" class="sidebar-link">target</a></li><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#handler-对象" class="sidebar-link">handler 对象</a></li><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#陷阱函数与-reflect" class="sidebar-link">陷阱函数与 Reflect</a></li></ul></li><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#撤销代理" class="sidebar-link">撤销代理</a></li><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#reflect" class="sidebar-link">Reflect</a></li><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#缺点" class="sidebar-link">缺点</a></li><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#基于-proxy-实现响应式" class="sidebar-link">基于 proxy 实现响应式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#数组操作" class="sidebar-link">数组操作</a></li><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#对象嵌套" class="sidebar-link">对象嵌套</a></li><li class="sidebar-sub-header"><a href="/fe-notes/javascript/045_proxy.html#更好的响应式" class="sidebar-link">更好的响应式</a></li></ul></li></ul></li><li><a href="/fe-notes/javascript/050_async.html" class="sidebar-link">单线程与异步编程</a></li><li><a href="/fe-notes/javascript/052_bom.html" class="sidebar-link">BOM</a></li><li><a href="/fe-notes/javascript/053_dom.html" class="sidebar-link">DOM</a></li><li><a href="/fe-notes/javascript/054_size.html" class="sidebar-link">尺寸</a></li><li><a href="/fe-notes/javascript/060_events.html" class="sidebar-link">事件</a></li><li><a href="/fe-notes/javascript/061_animation.html" class="sidebar-link">动画</a></li><li><a href="/fe-notes/javascript/062_html5.html" class="sidebar-link">HTML5 编程</a></li><li><a href="/fe-notes/javascript/063_error.html" class="sidebar-link">错误处理</a></li><li><a href="/fe-notes/javascript/065_json.html" class="sidebar-link">JSON</a></li><li><a href="/fe-notes/javascript/070_storage.html" class="sidebar-link">离线和存储</a></li><li><a href="/fe-notes/javascript/075_modules.html" class="sidebar-link">模块 modules</a></li><li><a href="/fe-notes/javascript/080_web_worker.html" class="sidebar-link">Web Worker</a></li><li><a href="/fe-notes/javascript/090_curry.html" class="sidebar-link">函数柯里化</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="代理与反射"><a href="#代理与反射" class="header-anchor">#</a> 代理与反射</h1> <p>代理允许拦截 JS 的底层操作</p> <p>通过调用 <code>new Proxy()</code>，可以创建一个代理，用于替代另一个对象（target），这个代理对目标对象进行了虚拟，因此该代理与该目标对象表面上可以被当作同一个对象来对待</p> <h2 id="new-proxy-target-handler"><a href="#new-proxy-target-handler" class="header-anchor">#</a> new Proxy(target, handler)</h2> <h3 id="target"><a href="#target" class="header-anchor">#</a> target</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;proxy&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;proxy&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;proxy&quot;</span>
target<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;target&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;target&quot;</span>
</code></pre></div><p>将所有操作直接转发给 target 对象。</p> <p>proxy 自身其实并没有存储该属性，它只是简单将值转发给 target 对象</p> <p>proxy.name 与 target.name 都指向 target.name</p> <h3 id="handler-对象"><a href="#handler-对象" class="header-anchor">#</a> handler 对象</h3> <p>使用代理的主要目的是可以定义捕获器（trap）。一般用来做一些拦截行为，比如鉴权<br>
即下方的陷阱（trap）函数</p> <h3 id="陷阱函数与-reflect"><a href="#陷阱函数与-reflect" class="header-anchor">#</a> 陷阱函数与 Reflect</h3> <p>Reflect 的存在是为了方便返回原有的实现，避免一样的逻辑需要自己手写一遍</p> <p>每个函数都有对应的 Reflect，并且同名，函数名一致</p> <p>比如 get 对应 Reflect.get</p> <p>同样这类函数也存在一些限制：必须遵循“捕获器不变式”（trap invariant）</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> target<span class="token operator">:</span> <span class="token punctuation">{</span>
  foo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  value<span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;qux&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: 'get' on proxy: property 'foo' is a read-only and non-configurable data property on the proxy target but the proxy did not return its actual value (expected 'bar' but got 'qux')</span>
</code></pre></div><h4 id="has"><a href="#has" class="header-anchor">#</a> has</h4> <p>用到关键字 in 或者 with() 的时候会触发 has 函数，比如遍历对象的属性的时候，即使存在这个 key，也可以让他返回 false</p> <p>has 接受的参数分别是</p> <ul><li><p>target: 目标对象(target)</p></li> <li><p>key</p></li></ul> <p>下面访问目标对象是 true，访问代理是 false</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span> <span class="token keyword">in</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span> <span class="token keyword">in</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span> <span class="token keyword">in</span> proxy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span> <span class="token keyword">in</span> proxy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><p>捕获器不变式</p> <ul><li>如果 target.property 存在且不可配置，则处理程序必须返回 true。</li> <li>如果 target.property 存在且目标对象不可扩展，则处理程序必须返回 true。</li></ul> <h4 id="get"><a href="#get" class="header-anchor">#</a> get</h4> <p>访问某个对象的 key 时，如果不存在，不会报错，而是返回 undefined</p> <p>通过 get，可以设置成报错</p> <p>get 函数接受的参数分别是</p> <ul><li><p>target: 目标对象(target)</p></li> <li><p>key</p></li> <li><p>receiver: 代理对象(proxy)</p></li></ul> <p>下面访问 target，还是返回 undefined，访问 proxy 就会报错，但是可以添加属性</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> target<span class="token operator">:</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> receiver<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;不存在该属性&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// return Reflect.get(target, key, receiver)</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught Error: 不存在该属性</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code>proxy<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12，赋值后正常输出</span>
</code></pre></div><p>捕获器不变式</p> <ul><li>如果 target.property 不可写且不可配置，则处理程序返回的值必须与 target.property 匹配。</li> <li>如果 target.property 不可配置且[[Get]]特性为 undefined，处理程序的返回值也必须是 undefined。</li></ul> <h4 id="set"><a href="#set" class="header-anchor">#</a> set</h4> <p>例：假设创建一个对象，对象的每一个新增的 key 都只能是 Number 类型。</p> <p>那么每新增一个 key 都必须经过校验，可以通过 set 来实现</p> <p>set 接受的参数是：</p> <ul><li><p>target: 目标对象(target)</p></li> <li><p>key</p></li> <li><p>value</p></li> <li><p>receiver: 代理对象(proxy)</p></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> target<span class="token operator">:</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  plan<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
    <span class="token comment">//如果target本身有key，跳过，本题只是为了校验新增的key</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>target<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;不是数字&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 添加属性</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: 'hello', age: 12}</span>
<span class="token comment">// 不报错，但不会赋值</span>
proxy<span class="token punctuation">.</span>plan <span class="token operator">=</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 不是数字</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> proxy<span class="token punctuation">.</span>plan<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: 'hello', age: 12} undefined</span>
<span class="token comment">// 因为最后 return false 所以会报错</span>
proxy<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: 'set' on proxy: trap returned falsish for property 'name'</span>
</code></pre></div><p>捕获器不变式</p> <ul><li>如果 target.property 不可写且不可配置，则不能修改目标属性的值。</li> <li>如果 target.property 不可配置且[[Set]]特性为 undefined，则不能修改目标属性的值。</li> <li>在严格模式下，处理程序中返回 false 会抛出 TypeError。</li></ul> <h4 id="其余函数见原文"><a href="#其余函数见原文" class="header-anchor">#</a> 其余函数见原文</h4> <p><a href="https://github.com/nzakas/understandinges6/blob/master/manuscript/12-Proxies-and-Reflection.md" target="_blank" rel="noopener noreferrer">understandinges6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，
<a href="https://sagittarius-rev.gitbooks.io/understanding-ecmascript-6-zh-ver/content/chapter_12.html" target="_blank" rel="noopener noreferrer">翻译<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>defineProperty</li> <li>getOwnPropertyDescriptor</li> <li>deleteProperty：对应 <code>delete</code></li> <li>ownKeys：对应 Object.keys</li> <li>getPrototypeOf</li> <li>setPrototypeOf</li> <li>isExtensible</li> <li>preventExtensions</li> <li>apply</li> <li>construct：对应 <code>new</code></li></ul> <h2 id="撤销代理"><a href="#撤销代理" class="header-anchor">#</a> 撤销代理</h2> <p>调用 <code>new Proxy()</code> 生成的代理会一直存在<br>
通过 revocable 方法可以撤销，并且不可逆</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> target<span class="token operator">:</span> <span class="token punctuation">{</span>
  foo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;qux&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> proxy<span class="token punctuation">,</span> revoke <span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'qux'</span>

<span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 幂等，可以调用多次，结果都一样</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: Cannot perform 'get' on a proxy that has been revoked</span>
</code></pre></div><h2 id="reflect"><a href="#reflect" class="header-anchor">#</a> Reflect</h2> <p>Reflect 不一定要和 Proxy 绑定，普通的对象也可以<br>
比如 Reflect.defineProperty 会返回一个布尔值，表示操作是否成功<br>
如果是普通写法，可以用 try catch 捕获异常</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> target<span class="token operator">:</span> <span class="token punctuation">{</span>
  foo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  value<span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: Cannot redefine property: foo</span>
<span class="token punctuation">}</span>
</code></pre></div><p>改用 Reflect，不需要 try catch，而是返回一个布尔值</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> target<span class="token operator">:</span> <span class="token punctuation">{</span>
  foo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  value<span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  Reflect<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><p>应用场景</p> <ul><li>上述的状态标记</li> <li>代替一些操作符，比如遍历用 <code>in</code>，可以用 Reflect.has 代替
<ul><li>has、get、set</li> <li>deleteProperty：代替 <code>delete</code></li> <li>Reflect.construct()：代替 <code>new</code></li></ul></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span> <span class="token keyword">in</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Array</span></span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span><span class="token builtin">Array</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>安全的调用函数<br>
在通过 apply 方法调用函数时，被调用的函数可能也定义了自己的 apply 属性<br>
通常做法是通过原型链覆写<code>Function.prototype.apply.call(myFunc, thisVal, argumentList);</code>。
可以用 Reflect.apply 代替<br> <code>Reflect.apply(myFunc, thisVal, argumentsList);</code></li></ul> <h2 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h2> <p>不能很好地兼容 <code>this</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: this is not a Date object.</span>
</code></pre></div><h2 id="基于-proxy-实现响应式"><a href="#基于-proxy-实现响应式" class="header-anchor">#</a> 基于 proxy 实现响应式</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">对象的</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">info</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//通过改变proxy来改变target的值</span>
    <span class="token function">change</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="数组操作"><a href="#数组操作" class="header-anchor">#</a> 数组操作</h3> <p>如果 target 是一个数组，假设值是<code>[1,2,3]</code>。实际上 proxy 的值是<br> <img src="data:image/jpeg;base64,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wwwwwwwwwwwwwwwzyzQzzzzzzzzzzzzzzzzzzzzzzjzDzzDDjGTz/jSHpTzzzzzzzzzzj/8AT70Izw400s888888888888sQl8/rzvMsIY88888888888888MPugMBMccQs888888888888888vr8fENC6RX88888888888938888888888888888888888898888888888888888888888888888888888888888888888888//xAAeEQEAAgICAwEAAAAAAAAAAAABABEhMRBAMEFQUf/aAAgBAwEBPxD7Q3yN83mIaiW78gW1C+uASCdT2uCnp7TNYieHgxSkEi2301TLCoUKqADOY3Kima6serg7MbZh++DVNTeI3D9eUqLg3k7CCU/S/8QAIxEBAAIBAgYDAQAAAAAAAAAAAQARITFBEDBAUFFhINHwwf/aAAgBAgEBPxDvWkkwa+zjWBEffEtwf3j7jjFBzAW1C+k9EIDdJuuCn5DWkW+YszNYieHgYpSCRbb6N03LCoUKqADOWNyopmulja4OpjbMPLgapqa4SzWAiLbw639Sss7e/wB/PXMYhERp6hHudy//xAAoEAEBAAIBAwMEAgMBAAAAAAABEQAhMUFR0WHw8RBAcYEgkVChsXD/2gAIAQEAAT8Q908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908M908Ppr3fC9h7DABBRROEwD6qUAcq9M3CN/BAGn7xEKFGLkgbGm/XKbw0aMYGm++IBcfwK7XoF10HF0EAhoUrrTt/ig7opLp46K8ZpjIW57f3Yw4ndXIAA22jZrFaJRNPuRVau++D9kjtm+NO70jXYY5wgabHJp+pKYRgnBojp+Wf8YAfVCoHkTrgNgQAgH1PAyBRHkTOJ6u/iBo/xUzRw1w5+u9qggoAAVVQgYbLYKclKYB6Mj/JJ7agGRTaII0J0t1lRipOGIgHjaTZ9Rbi8sFKTWxNLsfq5OCFICjw2FKW/VsgSOIgUNNKcnf623gFBiwSIfVGcmvpJAFhgcqaPzM5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" alt=""></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">对象的</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">的值会被改变成</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">info</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//通过改变proxy来改变target的值</span>
    <span class="token function">change</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>proxy.push(5)</code>会多次触发<code>get</code>和<code>set</code> <img src="data:image/jpeg;base64,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d7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvYl7EvY+poGIDcBfQLELw5gFPiABI7Aj9k6Hjo8IN7gDYPAvMFsRBLxwPmLUzyRuBAyYse61LFHodKRAUaLJ5zHYOVcKwMIvNXREQjOABYF8nJwbPVQ5kS8RwLfYc8A86IAEIewX6N3A/hKD6VbI0UN7KlyAAdURqHQ9AzMKQQcTICStzCqFZudRGghRVamFQVYNqAo2IrlqFZlh4dtnMaYT7gRtiZCshVn/qIWAAMMwAZ0NLe7sZCB0U4/YDX1SoT11QRZGQsu/OKgBiljJ4mUaasBd04Q8PPGXlkfZwlBwxYBt9jGNsgRukZbscjHEXhBJCxwM90GE9EfwAqPzBYQYTuGSPM/m2hYlBPvCJqOzh0QQh2x+GSGEUpJwAPHOhbcyo8IosO9G4jwFBH29qIRBAAs29oEoWdyIB+DR6hhygQkBZrwKU6WGQsFERGaMECi2y0WrDowSRcwdFIXIisO11qAy92Z3lws6hl5IjCeCawP6iDF/+29iXsS9iXsS9iAa7Lr+6XsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9iXsS9j91//aAAwDAQACAAMAAAAQMMEEMMAMMIMMMIMAMMI88888888kgIskYM84YUUMA84YkwsAMs888sgE4wwE8888888888888888888IQgIA4s0888888888888888888w0Qk0ocE888888888888888888004840w08w0888888888888888cc8MsccscMs8888888888888888888888888888888888888888/8QAFBEBAAAAAAAAAAAAAAAAAAAAcP/aAAgBAwEBPxBQ/8QAFBEBAAAAAAAAAAAAAAAAAAAAcP/aAAgBAgEBPxBQ/8QAKRABAQACAgEEAQQDAQEBAAAAAREAITHhUUGR0fFhEIHB8CBQcaFAsf/aAAgBAQABPxCdj5ZOx8snY+WTsfLJ2Plk7Hyydj5ZOx8snY+WTsfLJ2Plk7Hyydj5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" alt=""></p> <h3 id="对象嵌套"><a href="#对象嵌套" class="header-anchor">#</a> 对象嵌套</h3> <p>嵌套不会触发<code>set</code>，但会触发<code>get</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">three</span><span class="token operator">:</span> <span class="token string">&quot;west&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/* 省略proxy定义 */</span>
proxy<span class="token punctuation">.</span>location<span class="token punctuation">.</span>three <span class="token operator">=</span> <span class="token string">&quot;east&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/jpeg;base64,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" alt=""></p> <h3 id="更好的响应式"><a href="#更好的响应式" class="header-anchor">#</a> 更好的响应式</h3> <p>解决两个问题：</p> <ol><li>多次触发<code>set</code>后，反复触发一个事件:<br>
可以用<a href="/fe-notes/javascript/052_bom.html#函数防抖与节流">防抖</a>实现；<br>
在 Vue 中，根据 key 是否是 target 的自有属性(<code>hasOwnProperty</code>)：
<ul><li>不是自有属性，那么应该是新增的 key，走一次逻辑，结束</li> <li>是自有属性，判断旧值和新值是否一致：不一致，走逻辑，结束；一致，不需要执行，结束</li></ul></li> <li>对象嵌套：递归的方式<br>
在 Vue 中，用的是<code>get</code>会被触发的特性，对 Refelect.get 返回的对象进行 Proxy</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createReactive</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handlers<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> proxy<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> handlers <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">get</span><span class="token operator">:</span> getters<span class="token punctuation">,</span>
  <span class="token literal-property property">set</span><span class="token operator">:</span> setters<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getters</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//再次调用</span>
    <span class="token keyword">return</span> <span class="token function">createReactive</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">setters</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isOwn <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isOwn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//新增属性，执行逻辑</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;not own&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//已有属性，判断新值和旧值是否相等</span>
    <span class="token keyword">const</span> currentValue <span class="token operator">=</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!==</span> currentValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;value changed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">three</span><span class="token operator">:</span> <span class="token string">&quot;west&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token function">createReactive</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
proxy<span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;not own&quot;</span>
proxy<span class="token punctuation">.</span>location<span class="token punctuation">.</span>three <span class="token operator">=</span> <span class="token string">&quot;east&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;value changed&quot;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ForlornLily/fe-notes/edit/master/docs/javascript/045_proxy.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">11/10/2023, 12:14:08 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fe-notes/javascript/040_oop.html" class="prev">
        面向对象
      </a></span> <span class="next"><a href="/fe-notes/javascript/050_async.html">
        单线程与异步编程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fe-notes/assets/js/app.3a168dfd.js" defer></script><script src="/fe-notes/assets/js/2.c34af4f1.js" defer></script><script src="/fe-notes/assets/js/1.4e3eb9de.js" defer></script><script src="/fe-notes/assets/js/50.baeea84b.js" defer></script>
  </body>
</html>
