# 状态码

服务端返回的请求结果

类型：1xx，2xx，3xx，4xx，5xx

## 2xx 正常处理

- 200 ok

存在缓存的情况下：

- 强缓 Expires/Cache-Control 存失效时，返回新的资源文件

- 200(from cache):
  强缓 Expires/Cache-Control 两者都存在，未过期，Cache-Control 优先 Expires 时，浏览器从本地获取资源成功

- 204 No
  Content：表示处理成功，响应报文不包含实体的主体。也不允许包含返回实体的主体

浏览器不会更新，比如 put/delete

- 206 Partical Content，比如[通过调试技术，我理清了 b 站视频播放很快的原理](https://zhuanlan.zhihu.com/p/643297227)

客户端进行[范围请求](./04_message.md#范围请求)，服务端成功执行这部分的 get 请求，并返回包含 Content-Range 返回指定的内容

- 201 Created：一般用在 post 请求，表示该请求已经被成功创建  

## 3xx 重定向

[AJAX 不能捕获](../trick/04_http.md)

- 301 Moved Permanently

永久重定向。表示请求的资源被重新分配了 URI，以后应该使用现在所指的 URI

- 302 Found

临时重定向。表示本次请求的资源被分配了新的 URI。但不是永久的，下次可能还会变

- 303 See Other

请求的资源包含另外一个 URI，应该用 get 方式去获取。

303 状态码是在 HTTP 1.1 中加入的，为了解决对 302 重定向的误用。HTTP 规范特别指出，浏览器应当用 GET 请求来跟随 303 重定向

- 307 Temporary Redirect

临时重定向。和 302 类似，但是期望客户端保持请求方法不变向新的地址发出请求

### 304 Not Modified

和重定向没有关系

服务端允许访问资源，但是没有满足情况。304 返回时，不包含任何响应的主体

每个资源请求完成后，通常会被缓存在客户端，并会记录资源的有效时间和修改时间。当客户再次请求该资源，客户端首先从缓存中查找该资源。如果该资源存在，并且在有效期，则不请求服务器，就不会产生对应的请求数据包。

如果不在有效期，客户端会请求服务器，重新获取。服务器会判断修改时间，如果没有修改过，就会返回状态码 304，告诉客户端该资源仍然有效，客户端会直接使用缓存的资源

## 4xx 客户端错误

- 400 Bad Request

请求报文中存在语法错误

- 401 Unauthorized

发送的请求要有 HTTP 认证信息。

返回的时候必须包含 WWW- Authenticate 的首部来咨询用户信息

浏览器第一次接受到 401 时，会弹出认证用的窗口

- 403 Forbidden

服务器拒绝。比如没有权限

- 404 Not Found

服务器找不到请求的资源

## 5xx 服务器错误

- 500 Internet Sever Error

服务端执行执行请求时发生错误

- 503 Service Unavailable

服务器暂时无法请求处理。比如超负荷或者停机维护
